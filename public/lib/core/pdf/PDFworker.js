(function(){var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(c){var m=0;return function(){return m<c.length?{done:!1,value:c[m++]}:{done:!0}}};$jscomp.arrayIterator=function(c){return{next:$jscomp.arrayIteratorImpl(c)}};$jscomp.makeIterator=function(c){var m="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];return m?m.call(c):$jscomp.arrayIterator(c)};
$jscomp.getGlobal=function(c){return"undefined"!=typeof window&&window===c?c:"undefined"!=typeof global&&null!=global?global:c};$jscomp.global=$jscomp.getGlobal(this);$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(c,m,n){c!=Array.prototype&&c!=Object.prototype&&(c[m]=n.value)};
$jscomp.polyfill=function(c,m,n,p){if(m){n=$jscomp.global;c=c.split(".");for(p=0;p<c.length-1;p++){var l=c[p];l in n||(n[l]={});n=n[l]}c=c[c.length-1];p=n[c];m=m(p);m!=p&&null!=m&&$jscomp.defineProperty(n,c,{configurable:!0,writable:!0,value:m})}};$jscomp.FORCE_POLYFILL_PROMISE=!1;
$jscomp.polyfill("Promise",function(c){function m(){this.batch_=null}function n(e){return e instanceof l?e:new l(function(a,d){a(e)})}if(c&&!$jscomp.FORCE_POLYFILL_PROMISE)return c;m.prototype.asyncExecute=function(e){null==this.batch_&&(this.batch_=[],this.asyncExecuteBatch_());this.batch_.push(e);return this};m.prototype.asyncExecuteBatch_=function(){var e=this;this.asyncExecuteFunction(function(){e.executeBatch_()})};var p=$jscomp.global.setTimeout;m.prototype.asyncExecuteFunction=function(e){p(e,
0)};m.prototype.executeBatch_=function(){for(;this.batch_&&this.batch_.length;){var e=this.batch_;this.batch_=[];for(var a=0;a<e.length;++a){var d=e[a];e[a]=null;try{d()}catch(k){this.asyncThrow_(k)}}}this.batch_=null};m.prototype.asyncThrow_=function(e){this.asyncExecuteFunction(function(){throw e;})};var l=function(e){this.state_=0;this.result_=void 0;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{e(a.resolve,a.reject)}catch(d){a.reject(d)}};l.prototype.createResolveAndReject_=
function(){function e(k){return function(h){d||(d=!0,k.call(a,h))}}var a=this,d=!1;return{resolve:e(this.resolveTo_),reject:e(this.reject_)}};l.prototype.resolveTo_=function(e){if(e===this)this.reject_(new TypeError("A Promise cannot resolve to itself"));else if(e instanceof l)this.settleSameAsPromise_(e);else{a:switch(typeof e){case "object":var a=null!=e;break a;case "function":a=!0;break a;default:a=!1}a?this.resolveToNonPromiseObj_(e):this.fulfill_(e)}};l.prototype.resolveToNonPromiseObj_=function(e){var a=
void 0;try{a=e.then}catch(d){this.reject_(d);return}"function"==typeof a?this.settleSameAsThenable_(a,e):this.fulfill_(e)};l.prototype.reject_=function(e){this.settle_(2,e)};l.prototype.fulfill_=function(e){this.settle_(1,e)};l.prototype.settle_=function(e,a){if(0!=this.state_)throw Error("Cannot settle("+e+", "+a+"): Promise already settled in state"+this.state_);this.state_=e;this.result_=a;this.executeOnSettledCallbacks_()};l.prototype.executeOnSettledCallbacks_=function(){if(null!=this.onSettledCallbacks_){for(var e=
0;e<this.onSettledCallbacks_.length;++e)t.asyncExecute(this.onSettledCallbacks_[e]);this.onSettledCallbacks_=null}};var t=new m;l.prototype.settleSameAsPromise_=function(e){var a=this.createResolveAndReject_();e.callWhenSettled_(a.resolve,a.reject)};l.prototype.settleSameAsThenable_=function(e,a){var d=this.createResolveAndReject_();try{e.call(a,d.resolve,d.reject)}catch(k){d.reject(k)}};l.prototype.then=function(e,a){function d(a,d){return"function"==typeof a?function(d){try{k(a(d))}catch(u){h(u)}}:
d}var k,h,t=new l(function(a,d){k=a;h=d});this.callWhenSettled_(d(e,k),d(a,h));return t};l.prototype.catch=function(e){return this.then(void 0,e)};l.prototype.callWhenSettled_=function(e,a){function d(){switch(k.state_){case 1:e(k.result_);break;case 2:a(k.result_);break;default:throw Error("Unexpected state: "+k.state_);}}var k=this;null==this.onSettledCallbacks_?t.asyncExecute(d):this.onSettledCallbacks_.push(d)};l.resolve=n;l.reject=function(e){return new l(function(a,d){d(e)})};l.race=function(e){return new l(function(a,
d){for(var k=$jscomp.makeIterator(e),h=k.next();!h.done;h=k.next())n(h.value).callWhenSettled_(a,d)})};l.all=function(e){var a=$jscomp.makeIterator(e),d=a.next();return d.done?n([]):new l(function(k,h){function e(a){return function(d){r[a]=d;v--;0==v&&k(r)}}var r=[],v=0;do r.push(void 0),v++,n(d.value).callWhenSettled_(e(r.length-1),h),d=a.next();while(!d.done)})};return l},"es6","es3");
$jscomp.checkStringArgs=function(c,m,n){if(null==c)throw new TypeError("The 'this' value for String.prototype."+n+" must not be null or undefined");if(m instanceof RegExp)throw new TypeError("First argument to String.prototype."+n+" must not be a regular expression");return c+""};
$jscomp.polyfill("String.prototype.endsWith",function(c){return c?c:function(c,n){var p=$jscomp.checkStringArgs(this,c,"endsWith");c+="";void 0===n&&(n=p.length);n=Math.max(0,Math.min(n|0,p.length));for(var l=c.length;0<l&&0<n;)if(p[--n]!=c[--l])return!1;return 0>=l}},"es6","es3");$jscomp.findInternal=function(c,m,n){c instanceof String&&(c=String(c));for(var p=c.length,l=0;l<p;l++){var t=c[l];if(m.call(n,t,l,c))return{i:l,v:t}}return{i:-1,v:void 0}};
$jscomp.polyfill("Array.prototype.find",function(c){return c?c:function(c,n){return $jscomp.findInternal(this,c,n).v}},"es6","es3");$jscomp.polyfill("Array.from",function(c){return c?c:function(c,n,p){n=null!=n?n:function(a){return a};var l=[],t="undefined"!=typeof Symbol&&Symbol.iterator&&c[Symbol.iterator];if("function"==typeof t){c=t.call(c);for(var e=0;!(t=c.next()).done;)l.push(n.call(p,t.value,e++))}else for(t=c.length,e=0;e<t;e++)l.push(n.call(p,c[e],e));return l}},"es6","es3");
$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var c=0;return function(m){return $jscomp.SYMBOL_PREFIX+(m||"")+c++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.iterator;c||(c=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[c]&&$jscomp.defineProperty(Array.prototype,c,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};
$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var c=$jscomp.global.Symbol.asyncIterator;c||(c=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(c){$jscomp.initSymbolIterator();c={next:c};c[$jscomp.global.Symbol.iterator]=function(){return this};return c};
$jscomp.iteratorFromArray=function(c,m){$jscomp.initSymbolIterator();c instanceof String&&(c+="");var n=0,p={next:function(){if(n<c.length){var l=n++;return{value:m(l,c[l]),done:!1}}p.next=function(){return{done:!0,value:void 0}};return p.next()}};p[Symbol.iterator]=function(){return p};return p};$jscomp.polyfill("Array.prototype.keys",function(c){return c?c:function(){return $jscomp.iteratorFromArray(this,function(c){return c})}},"es6","es3");
(function(c){function m(p){if(n[p])return n[p].exports;var l=n[p]={i:p,l:!1,exports:{}};c[p].call(l.exports,l,l.exports,m);l.l=!0;return l.exports}var n={};m.m=c;m.c=n;m.d=function(c,l,t){m.o(c,l)||Object.defineProperty(c,l,{enumerable:!0,get:t})};m.r=function(c){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"});Object.defineProperty(c,"__esModule",{value:!0})};m.t=function(c,l){l&1&&(c=m(c));if(l&8||l&4&&"object"===typeof c&&c&&c.__esModule)return c;
var t=Object.create(null);m.r(t);Object.defineProperty(t,"default",{enumerable:!0,value:c});if(l&2&&"string"!=typeof c)for(var e in c)m.d(t,e,function(a){return c[a]}.bind(null,e));return t};m.n=function(c){var l=c&&c.__esModule?function(){return c["default"]}:function(){return c};m.d(l,"a",l);return l};m.o=function(c,l){return Object.prototype.hasOwnProperty.call(c,l)};m.p="/core/pdf/";return m(m.s=14)})([function(c,m,n){n.d(m,"b",function(){return e});n.d(m,"c",function(){return t});n.d(m,"a",function(){return a});
c="undefined"===typeof window?self:window;var p=c._trnDebugMode||c._trnLogMode,l=c._logFiltersEnabled?c._logFiltersEnabled:{},t=function(a,k){k||(k=a,a="default");p&&l[a]&&console.warn("".concat(a,": ").concat(k))},e=function(a,k){k||(k=a,a="default");p&&l[a]&&console.log("".concat(a,": ").concat(k))},a=function(a){p&&console.error(a);throw Error(a);}},function(c,m,n){n.d(m,"a",function(){return u});n.d(m,"b",function(){return f});n.d(m,"c",function(){return b});var p=n(0),l=n(12),t="undefined"===
typeof window?self:window,e=t.importScripts,a=function(b){if("string"===typeof b){for(var f=new Uint8Array(b.length),q=b.length,a=0;a<q;a++)f[a]=b.charCodeAt(a);return f}return b},d=function(b){if("string"!==typeof b){for(var f="",q=0,a=b.length,d;q<a;)d=b.subarray(q,q+1024),q+=1024,f+=String.fromCharCode.apply(null,d);return f}return b},k=!1,h=function(b,f){k||(e(t.basePath+"decode.min.js"),k=!0);b=self.BrotliDecode(a(b));return f?b:d(b)};(function(){function b(){this.remainingDataArrays=[]}b.prototype.processRaw=
function(b){return b};b.prototype.processBrotli=function(b){this.remainingDataArrays.push(b);return null};b.prototype.GetNextChunk=function(b){this.decodeFunction||(this.decodeFunction=0===b[0]&&97===b[1]&&115===b[2]&&109===b[3]?this.processRaw:this.processBrotli);return this.decodeFunction(b)};b.prototype.End=function(){if(this.remainingDataArrays.length){for(var b=this.arrays,f=0,q=0;q<b.length;++q)f+=b[q].length;f=new Uint8Array(f);var a=0;for(q=0;q<b.length;++q){var d=b[q];f.set(d,a);a+=d.length}return h(f,
!0)}return null};return b})();var y=!1,r=function(b,f){y||(e(t.basePath+"rawinflate.js",t.basePath+"pako_inflate.min.js"),y=!0);var q=10;if("string"===typeof b){if(b.charCodeAt(3)&8){for(;0!==b.charCodeAt(q);++q);++q}}else if(b[3]&8){for(;0!==b[q];++q);++q}if(f)return b=a(b),b=b.subarray(q,b.length-8),t.pako.inflate(b,{windowBits:-15});b=d(b);b=b.substring(q,b.length-8);return l.a.inflate(b)},v=function(b,f){return f?b:d(b)},A=function(b){var f=!b.shouldOutputArray,q=new XMLHttpRequest;q.open("GET",
b.url,b.isAsync);var a=f&&q.overrideMimeType;q.responseType=a?"text":"arraybuffer";a&&q.overrideMimeType("text/plain; charset=x-user-defined");q.send();var g=function(){var w=Date.now();var g=a?q.responseText:new Uint8Array(q.response);Object(p.b)("worker","Result length is "+g.length);g.length<b.compressedMaximum?(g=b.decompressFunction(g,b.shouldOutputArray),Object(p.b)("worker","Decompressed length is "+g.length),console.warn("There may be some degradation of performance. Your server has not been configured to serve .gz. and .br. files with the expected Content-Encoding. See http://www.pdftron.com/kb_content_encoding for instructions on how to resolve this.")):
f&&(g=d(g));Object(p.b)("worker",b.url+" Decompression took "+(Date.now()-w));return g};if(b.isAsync)var k=new Promise(function(f,w){q.onload=function(){200===this.status?f(g()):w("Download Failed "+b.url)};q.onerror=function(){w("Network error occurred "+b.url)}});else{if(200===q.status)return g();throw Error("Failed to load "+b.url);}return k},u=function(b){var f=b.lastIndexOf("/");-1===f&&(f=0);var q=b.slice(f).replace(".",".br.");return b.slice(0,f)+q},g=function(b,f){var q=b.lastIndexOf("/");
-1===q&&(q=0);var w=b.slice(q).replace(".",".gz.");f.url=b.slice(0,q)+w;f.decompressFunction=r;return A(f)},B=function(b,f){f.url=u(b);f.decompressFunction=h;return A(f)},x=function(b,f){b.endsWith(".js.mem")?b=b.slice(0,-4):b.endsWith(".mem")&&(b=b.slice(0,-4)+".js.mem");f.url=b;f.decompressFunction=v;return A(f)},I=function(b,f,a,d){return b.catch(function(b){console.warn(b);return d(f,a)})},D=function(b,f,a){var q;if(a.isAsync){var w=f[0](b,a);for(q=1;q<f.length;++q)w=I(w,b,a,f[q]);return w}for(q=
0;q<f.length;++q)try{return f[q](b,a)}catch(K){console.warn(K.message)}throw Error("");},b=function(b,f,a,d){return D(b,[g,B,x],{compressedMaximum:f,isAsync:a,shouldOutputArray:d})},f=function(b,f,a,d){return D(b,[B,g,x],{compressedMaximum:f,isAsync:a,shouldOutputArray:d})}},function(c,m,n){n.d(m,"c",function(){return e});n.d(m,"b",function(){return a});n.d(m,"a",function(){return d});var p="undefined"===typeof window?self:window;c=function(){var a=navigator.userAgent.toLowerCase();return(a=/(msie) ([\w.]+)/.exec(a)||
/(trident)(?:.*? rv:([\w.]+)|)/.exec(a))?parseInt(a[2],10):a}();(function(){var a=p.navigator.userAgent.match(/Chrome\/(.*?) /);return a?parseInt(a[1],10):a})();(function(){var a=p.navigator.userAgent.match(/OPR/),d=p.navigator.userAgent.match(/Maxthon/),e=p.navigator.userAgent.match(/Edge/);return p.navigator.userAgent.match(/Chrome\/(.*?) /)&&!a&&!d&&!e})();navigator.userAgent.match(/Edge/i);m=/iPad|iPhone|iPod/.test(p.navigator.platform)||"MacIntel"===navigator.platform&&1<navigator.maxTouchPoints;
var l=/^((?!chrome|android).)*safari/i.test(p.navigator.userAgent)||/^((?!chrome|android).)*$/.test(p.navigator.userAgent)&&m;p.navigator.userAgent.match(/Firefox/);c||/Android|webOS|Touch|IEMobile|Silk/i.test(navigator.userAgent);navigator.userAgent.match(/(iPad|iPhone|iPod)/i);p.navigator.userAgent.indexOf("Android");var t=/Mac OS X 10_13_6.*\(KHTML, like Gecko\)$/.test(p.navigator.userAgent),e=function(){return l||t},a=!(!self.WebAssembly||!self.WebAssembly.validate),d=-1<p.navigator.userAgent.indexOf("Edge/16")||
-1<p.navigator.userAgent.indexOf("MSAppHost")},function(c,m,n){function p(a){"@babel/helpers - typeof";p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return p(a)}var l,t,e;!function(a){"object"===p(m)&&"undefined"!==typeof c?c.exports=a():!(t=[],l=a,e="function"===typeof l?l.apply(m,t):l,void 0!==e&&(c.exports=e))}(function(){return function y(d,
k,e){function r(h,g){if(!k[h]){if(!d[h]){if(v)return v(h,!0);g=Error("Cannot find module '".concat(h,"'"));throw g.code="MODULE_NOT_FOUND",g;}g=k[h]={exports:{}};d[h][0].call(g.exports,function(g){return r(d[h][1][g]||g)},g,g.exports,y,d,k,e)}return k[h].exports}for(var v=!1,h=0;h<e.length;h++)r(e[h]);return r}({1:[function(d,k,h){var e={}.hasOwnProperty,r=function(d,r){function k(){this.constructor=d}for(var g in r)e.call(r,g)&&(d[g]=r[g]);k.prototype=r.prototype;d.prototype=new k;d.__super__=r.prototype;
return d};h=d("./PriorityQueue/AbstractPriorityQueue");d=d("./PriorityQueue/ArrayStrategy");h=function(d){function k(d){d||(d={});d.strategy||(d.strategy=BinaryHeapStrategy);d.comparator||(d.comparator=function(d,r){return(d||0)-(r||0)});k.__super__.constructor.call(this,d)}r(k,d);return k}(h);h.ArrayStrategy=d;k.exports=h},{"./PriorityQueue/AbstractPriorityQueue":2,"./PriorityQueue/ArrayStrategy":3}],2:[function(d,k,h){k.exports=function(){function d(d){if(null==(null!=d?d.strategy:void 0))throw"Must pass options.strategy, a strategy";
if(null==(null!=d?d.comparator:void 0))throw"Must pass options.comparator, a comparator";this.priv=new d.strategy(d);this.length=0}d.prototype.queue=function(d){this.length++;this.priv.queue(d)};d.prototype.dequeue=function(d){if(!this.length)throw"Empty queue";this.length--;return this.priv.dequeue()};d.prototype.peek=function(d){if(!this.length)throw"Empty queue";return this.priv.peek()};d.prototype.remove=function(d){this.priv.remove(d)&&--this.length};d.prototype.find=function(d){return 0<=this.priv.find(d)};
d.prototype.removeAllMatching=function(d,k){d=this.priv.removeAllMatching(d,k);this.length-=d};return d}()},{}],3:[function(d,k,h){var e=function(d,k,e){var h;var g=0;for(h=d.length;g<h;){var r=g+h>>>1;0<=e(d[r],k)?g=r+1:h=r}return g};k.exports=function(){function d(d){var k;this.options=d;this.comparator=this.options.comparator;this.data=(null!=(k=this.options.initialValues)?k.slice(0):void 0)||[];this.data.sort(this.comparator).reverse()}d.prototype.queue=function(d){var k=e(this.data,d,this.comparator);
this.data.splice(k,0,d)};d.prototype.dequeue=function(){return this.data.pop()};d.prototype.peek=function(){return this.data[this.data.length-1]};d.prototype.find=function(d){var k=e(this.data,d,this.comparator)-1;return 0<=k&&!this.comparator(this.data[k],d)?k:-1};d.prototype.remove=function(d){d=this.find(d);return 0<=d?(this.data.splice(d,1),!0):!1};d.prototype.removeAllMatching=function(d,k){for(var h=0,g=this.data.length-1;0<=g;--g)if(d(this.data[g])){var e=this.data.splice(g,1)[0];k&&k(e);++h}return h};
return d}()},{}]},{},[1])(1)})},function(c,m,n){(function(c){function l(a,d){this._id=a;this._clearFn=d}var t="undefined"!==typeof c&&c||"undefined"!==typeof self&&self||window,e=Function.prototype.apply;m.setTimeout=function(){return new l(e.call(setTimeout,t,arguments),clearTimeout)};m.setInterval=function(){return new l(e.call(setInterval,t,arguments),clearInterval)};m.clearTimeout=m.clearInterval=function(a){a&&a.close()};l.prototype.unref=l.prototype.ref=function(){};l.prototype.close=function(){this._clearFn.call(t,
this._id)};m.enroll=function(a,d){clearTimeout(a._idleTimeoutId);a._idleTimeout=d};m.unenroll=function(a){clearTimeout(a._idleTimeoutId);a._idleTimeout=-1};m._unrefActive=m.active=function(a){clearTimeout(a._idleTimeoutId);var d=a._idleTimeout;0<=d&&(a._idleTimeoutId=setTimeout(function(){a._onTimeout&&a._onTimeout()},d))};n(17);m.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof c&&c.setImmediate||this&&this.setImmediate;m.clearImmediate="undefined"!==typeof self&&self.clearImmediate||
"undefined"!==typeof c&&c.clearImmediate||this&&this.clearImmediate}).call(this,n(5))},function(c,m){m=function(){return this}();try{m=m||(new Function("return this"))()}catch(n){"object"===typeof window&&(m=window)}c.exports=m},function(c,m,n){n.d(m,"b",function(){return a});n.d(m,"a",function(){return k});var p=n(11),l=n(1),t=n(13),e=n(2);c="undefined"===typeof window?self:window;c.Uint8ClampedArray||(c.Uint8ClampedArray=c.Uint8Array);"undefined"===typeof c.crypto&&(c.crypto={getRandomValues:function(a){for(var d=
0;d<a.length;d++)a[d]=256*Math.random()}});var a=function(){return e.b&&!e.a&&!Object(e.c)()},d=function(a){var d=this;this.promise=a.then(function(a){d.response=a;d.status=200})};d.prototype={addEventListener:function(a,d){this.promise.then(d)}};var k=function(k,e,r){if(a()&&!r)Module.instantiateWasm=function(a,d){return Object(t.a)(Object(p.a)(),"".concat(k,"Wasm.wasm"),a,e["Wasm.wasm"]).then(function(a){d(a)})},r=Object(l.b)("".concat(k,"Wasm.js.mem"),e["Wasm.js.mem"],!1,!1);else{r=Object(l.b)("".concat((Module.asmjsPrefix?
Module.asmjsPrefix:"")+k,".js.mem"),e[".js.mem"],!1);var h=Object(l.c)("".concat((Module.memoryInitializerPrefixURL?Module.memoryInitializerPrefixURL:"")+k,".mem"),e[".mem"],!0,!0);Module.memoryInitializerRequest=new d(h)}r=new Blob([r],{type:"application/javascript"});importScripts(URL.createObjectURL(r))}},function(c,m){function n(){throw Error("setTimeout has not been defined");}function p(){throw Error("clearTimeout has not been defined");}function l(a){if(h===setTimeout)return setTimeout(a,0);
if((h===n||!h)&&setTimeout)return h=setTimeout,setTimeout(a,0);try{return h(a,0)}catch(B){try{return h.call(null,a,0)}catch(x){return h.call(this,a,0)}}}function t(a){if(y===clearTimeout)return clearTimeout(a);if((y===p||!y)&&clearTimeout)return y=clearTimeout,clearTimeout(a);try{return y(a)}catch(B){try{return y.call(null,a)}catch(x){return y.call(this,a)}}}function e(){v&&A&&(v=!1,A.length?r=A.concat(r):u=-1,r.length&&a())}function a(){if(!v){var a=l(e);v=!0;for(var d=r.length;d;){A=r;for(r=[];++u<
d;)A&&A[u].run();u=-1;d=r.length}A=null;v=!1;t(a)}}function d(a,d){this.fun=a;this.array=d}function k(){}c=c.exports={};try{var h="function"===typeof setTimeout?setTimeout:n}catch(g){h=n}try{var y="function"===typeof clearTimeout?clearTimeout:p}catch(g){y=p}var r=[],v=!1,A,u=-1;c.nextTick=function(g){var k=Array(arguments.length-1);if(1<arguments.length)for(var e=1;e<arguments.length;e++)k[e-1]=arguments[e];r.push(new d(g,k));1!==r.length||v||l(a)};d.prototype.run=function(){this.fun.apply(null,this.array)};
c.title="browser";c.browser=!0;c.env={};c.argv=[];c.version="";c.versions={};c.on=k;c.addListener=k;c.once=k;c.off=k;c.removeListener=k;c.removeAllListeners=k;c.emit=k;c.prependListener=k;c.prependOnceListener=k;c.listeners=function(a){return[]};c.binding=function(a){throw Error("process.binding is not supported");};c.cwd=function(){return"/"};c.chdir=function(a){throw Error("process.chdir is not supported");};c.umask=function(){return 0}},function(c,m,n){m.a=function(){ArrayBuffer.prototype.slice||
(ArrayBuffer.prototype.slice=function(c,l){void 0===c&&(c=0);void 0===l&&(l=this.byteLength);c=Math.floor(c);l=Math.floor(l);0>c&&(c+=this.byteLength);0>l&&(l+=this.byteLength);c=Math.min(Math.max(0,c),this.byteLength);l=Math.min(Math.max(0,l),this.byteLength);if(0>=l-c)return new ArrayBuffer(0);var t=new ArrayBuffer(l-c),e=new Uint8Array(t);c=new Uint8Array(this,c,l-c);e.set(c);return t})}},function(c,m,n){(function(c){function l(a){if(Array.isArray(a)){var b=0;for(var f=Array(a.length);b<a.length;b++)f[b]=
a[b];b=f}else b=void 0;b||(b=Symbol.iterator in Object(a)||"[object Arguments]"===Object.prototype.toString.call(a)?Array.from(a):void 0);if(!(a=b))throw new TypeError("Invalid attempt to spread non-iterable instance");return a}function t(a){"function"!==typeof a&&(a=new Function("".concat(a)));for(var b=Array(arguments.length-1),f=0;f<b.length;f++)b[f]=arguments[f+1];u[A]={callback:a,args:b};x(A);return A++}function e(a){delete u[a]}function a(d){if(g)setTimeout(a,0,d);else{var b=u[d];if(b){g=!0;
try{var f=b.callback,q=b.args;switch(q.length){case 0:f();break;case 1:f(q[0]);break;case 2:f(q[0],q[1]);break;case 3:f(q[0],q[1],q[2]);break;default:f.apply(void 0,l(q))}}finally{e(d),g=!1}}}}function d(){x=function(d){c.nextTick(function(){a(d)})}}function k(){if(v.postMessage&&!v.importScripts){var a=!0,b=v.onmessage;v.onmessage=function(){a=!1};v.postMessage("","*");v.onmessage=b;return a}}function h(){var d="setImmediate$".concat(Math.random(),"$"),b=function(b){b.source===v&&"string"===typeof b.data&&
0===b.data.indexOf(d)&&a(+b.data.slice(d.length))};v.addEventListener?v.addEventListener("message",b,!1):v.attachEvent("onmessage",b);x=function(b){v.postMessage(d+b,"*")}}function y(){var d=B.documentElement;x=function(b){var f=B.createElement("script");f.onreadystatechange=function(){a(b);f.onreadystatechange=null;d.removeChild(f);f=null};d.appendChild(f)}}function r(){x=function(d){setTimeout(a,0,d)}}var v="undefined"===typeof window?self:window,A=1,u={},g=!1,B=v.document,x,I=Object.getPrototypeOf&&
Object.getPrototypeOf(v);I=I&&I.setTimeout?I:v;"[object process]"==={}.toString.call(v.process)?d():k()?h():B&&"onreadystatechange"in B.createElement("script")?y():r();I.setImmediate=t;I.clearImmediate=e;m.a={setImmediate:t,clearImmediate:e}}).call(this,n(7))},function(c,m,n){var p=n(0);c=function(){function c(c,e){this.name=c;this.comObj=e;this.callbackIndex=1;this.postMessageTransfers=!0;this.callbacksCapabilities={};this.actionHandler={};this.actionHandlerAsync={};this.nextAsync=null;this.actionHandler.console_log=
[function(a){Object(p.b)(a)}];this.actionHandler.console_error=[function(a){Object(p.a)(a)}];this.actionHandler.workerLoaded=[function(){}];e.addEventListener("message",this.handleMessage.bind(this))}c.prototype.on=function(c,e,a){var d=this.actionHandler;d[c]&&Object(p.a)('There is already an actionName called "'+c+'"');d[c]=[e,a]};c.prototype.replace=function(c,e,a){this.actionHandler[c]=[e,a]};c.prototype.onAsync=function(c,e,a){var d=this.actionHandlerAsync;d[c]&&Object(p.a)('There is already an actionName called "'+
c+'"');d[c]=[e,a]};c.prototype.replaceAsync=function(c,e,a){var d=this.actionHandlerAsync,k=this.actionHandler;k[c]&&delete k[c];d[c]=[e,a]};c.prototype.onNextAsync=function(c){this.nextAsync=c};c.prototype.send=function(c,e){this.postMessage({action:c,data:e})};c.prototype.getNextId=function(){return this.callbackIndex++};c.prototype.sendWithPromise=function(c,e,a){var d=this.getNextId();c={action:c,data:e,callbackId:d,priority:a};e=window.createPromiseCapability();this.callbacksCapabilities[d]=
e;try{this.postMessage(c)}catch(k){e.reject(k)}return e.promise};c.prototype.sendWithPromiseReturnId=function(c,e,a){var d=this.getNextId();c={action:c,data:e,callbackId:d,priority:a};e=window.createPromiseCapability();this.callbacksCapabilities[d]=e;try{this.postMessage(c)}catch(k){e.reject(k)}return{promise:e.promise,callbackId:d}};c.prototype.sendWithPromiseWithId=function(c,e,a){e>this.callbackIndex&&Object(p.a)("Can't reuse callbackId "+e+" lesser than callbackIndex "+this.callbackIndex);e in
this.callbacksCapabilities&&Object(p.a)("Can't reuse callbackId "+e+". There is a capability waiting to be resolved. ");c={action:c,data:a,callbackId:e};a=window.createPromiseCapability();this.callbacksCapabilities[e]=a;try{this.postMessage(c)}catch(d){a.reject(d)}return a.promise};c.prototype.sendError=function(c,e){if(c.message||c.errorData){c.message&&c.message.message&&(c.message=c.message.message);var a=c.errorData;c={type:c.type?c.type:"JavascriptError",message:c.message};a&&Object.keys(a).forEach(function(d){a.hasOwnProperty(d)&&
(c[d]=a[d])})}this.postMessage({isReply:!0,callbackId:e,error:c})};c.prototype.getPromise=function(c){if(c in this.callbacksCapabilities)return this.callbacksCapabilities[c];Object(p.a)("Cannot get promise for callback "+c)};c.prototype.cancelPromise=function(c){if(c in this.callbacksCapabilities){var e=this.callbacksCapabilities[c];delete this.callbacksCapabilities[c];e.reject({type:"Cancelled",message:"Request has been cancelled."});this.postMessage({action:"actionCancel",data:{callbackId:c}})}else Object(p.c)("Cannot cancel callback "+
c)};c.prototype.postMessage=function(c){if(this.postMessageTransfers){var e=this.getTransfersArray(c);this.comObj.postMessage(c,e)}else this.comObj.postMessage(c)};c.prototype.getObjectTransfers=function(c,e){var a=this;null!==c&&"object"===typeof c&&(c instanceof Uint8Array?e.push(c.buffer):c instanceof ArrayBuffer?e.push(c):Object.keys(c).forEach(function(d){c.hasOwnProperty(d)&&a.getObjectTransfers(c[d],e)}))};c.prototype.getTransfersArray=function(c){var e=[];this.getObjectTransfers(c,e);return 0===
e.length?void 0:e};c.prototype.handleMessage=function(c){var e=this,a=c.data,d=this.actionHandler,k=this.actionHandlerAsync;c=this.callbacksCapabilities;if(a.isReply)d=a.callbackId,d in c?(k=c[d],delete c[d],"error"in a?k.reject(a.error):k.resolve(a.data)):Object(p.c)("Cannot resolve callback "+d);else if(a.action in d){var h=d[a.action];a.callbackId?Promise.resolve().then(function(){return h[0].call(h[1],a.data)}).then(function(d){e.postMessage({isReply:!0,callbackId:a.callbackId,data:d})},function(d){e.sendError(d,
a.callbackId)}):h[0].call(h[1],a.data)}else a.action in k?(h=k[a.action],a.callbackId?h[0].call(h[1],a).then(function(d){e.postMessage({isReply:!0,callbackId:a.callbackId,data:d});e.nextAsync()},function(d){e.sendError(d,a.callbackId);e.nextAsync()}):h[0].call(h[1],a).then(function(){e.nextAsync()},function(){e.nextAsync()})):Object(p.a)("Unknown action from worker: "+a.action)};return c}();m.a=c},function(c,m,n){function p(){return l}n.d(m,"a",function(){return p});var l=34},function(c,m,n){var p=
[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],l=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],t=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,99,99],e=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],d=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],k=function(){this.list=this.next=
null},h=function(){this.n=this.b=this.e=0;this.t=null},y=function(a,d,c,g,e,r){this.BMAX=16;this.N_MAX=288;this.status=0;this.root=null;this.m=0;var x=Array(this.BMAX+1),B,b,f,q=Array(this.BMAX+1),w,z=new h,v=Array(this.BMAX);var u=Array(this.N_MAX);var l=Array(this.BMAX+1),A,y;var n=this.root=null;for(b=0;b<x.length;b++)x[b]=0;for(b=0;b<q.length;b++)q[b]=0;for(b=0;b<v.length;b++)v[b]=null;for(b=0;b<u.length;b++)u[b]=0;for(b=0;b<l.length;b++)l[b]=0;var p=256<d?a[256]:this.BMAX;var t=a;var m=0;b=d;
do x[t[m]]++,m++;while(0<--b);if(x[0]==d)this.root=null,this.status=this.m=0;else{for(f=1;f<=this.BMAX&&0==x[f];f++);var C=f;r<f&&(r=f);for(b=this.BMAX;0!=b&&0==x[b];b--);var M=b;r>b&&(r=b);for(A=1<<f;f<b;f++,A<<=1)if(0>(A-=x[f])){this.status=2;this.m=r;return}if(0>(A-=x[b]))this.status=2,this.m=r;else{x[b]+=A;l[1]=f=0;t=x;m=1;for(w=2;0<--b;)l[w++]=f+=t[m++];t=a;b=m=0;do 0!=(f=t[m++])&&(u[l[f]++]=b);while(++b<d);d=l[M];l[0]=b=0;t=u;m=0;u=-1;var F=q[0]=0;w=null;for(y=0;C<=M;C++)for(a=x[C];0<a--;){for(;C>
F+q[1+u];){F+=q[1+u];u++;y=(y=M-F)>r?r:y;if((B=1<<(f=C-F))>a+1)for(B-=a+1,w=C;++f<y&&!((B<<=1)<=x[++w]);)B-=x[w];F+f>p&&F<p&&(f=p-F);y=1<<f;q[1+u]=f;w=Array(y);for(B=0;B<y;B++)w[B]=new h;n=null==n?this.root=new k:n.next=new k;n.next=null;n.list=w;v[u]=w;0<u&&(l[u]=b,z.b=q[u],z.e=16+f,z.t=w,f=(b&(1<<F)-1)>>F-q[u],v[u-1][f].e=z.e,v[u-1][f].b=z.b,v[u-1][f].n=z.n,v[u-1][f].t=z.t)}z.b=C-F;m>=d?z.e=99:t[m]<c?(z.e=256>t[m]?16:15,z.n=t[m++]):(z.e=e[t[m]-c],z.n=g[t[m++]-c]);B=1<<C-F;for(f=b>>F;f<y;f+=B)w[f].e=
z.e,w[f].b=z.b,w[f].n=z.n,w[f].t=z.t;for(f=1<<C-1;0!=(b&f);f>>=1)b^=f;for(b^=f;(b&(1<<F)-1)!=l[u];)F-=q[u],u--}this.m=q[1];this.status=0!=A&&1!=M?1:0}}},r={Stream:function(a){this.zip_inflate_start();this.zip_inflate_data=a;this.zip_inflate_pos=0}};r.Stream.prototype={getBytes:function(a){for(var d,c=Array(1024),g=[],k=0;k<a&&0<(d=this.zip_inflate_internal(c,0,c.length));)g[g.length]=String.fromCharCode.apply(null,c.slice(0,d)),k+=d;return k?(this.zip_inflate_data=this.zip_inflate_data.slice(this.zip_inflate_pos),
this.zip_inflate_pos=0,g.join("")):""},zip_GET_BYTE:function(){return this.zip_inflate_data.length==this.zip_inflate_pos?-1:this.zip_inflate_data.charCodeAt(this.zip_inflate_pos++)&255},zip_NEEDBITS:function(a){for(;this.zip_bit_len<a;)this.zip_bit_buf|=this.zip_GET_BYTE()<<this.zip_bit_len,this.zip_bit_len+=8},zip_GETBITS:function(a){return this.zip_bit_buf&p[a]},zip_DUMPBITS:function(a){this.zip_bit_buf>>=a;this.zip_bit_len-=a},zip_inflate_codes:function(a,d,c){var g,k;if(0==c)return 0;for(k=0;;){this.zip_NEEDBITS(this.zip_bl);
var e=this.zip_tl.list[this.zip_GETBITS(this.zip_bl)];for(g=e.e;16<g;){if(99==g)return-1;this.zip_DUMPBITS(e.b);g-=16;this.zip_NEEDBITS(g);e=e.t[this.zip_GETBITS(g)];g=e.e}this.zip_DUMPBITS(e.b);if(16==g)this.zip_wp&=32767,a[d+k++]=this.zip_slide[this.zip_wp++]=e.n;else{if(15==g)break;this.zip_NEEDBITS(g);this.zip_copy_leng=e.n+this.zip_GETBITS(g);this.zip_DUMPBITS(g);this.zip_NEEDBITS(this.zip_bd);e=this.zip_td.list[this.zip_GETBITS(this.zip_bd)];for(g=e.e;16<g;){if(99==g)return-1;this.zip_DUMPBITS(e.b);
g-=16;this.zip_NEEDBITS(g);e=e.t[this.zip_GETBITS(g)];g=e.e}this.zip_DUMPBITS(e.b);this.zip_NEEDBITS(g);this.zip_copy_dist=this.zip_wp-e.n-this.zip_GETBITS(g);for(this.zip_DUMPBITS(g);0<this.zip_copy_leng&&k<c;)this.zip_copy_leng--,this.zip_copy_dist&=32767,this.zip_wp&=32767,a[d+k++]=this.zip_slide[this.zip_wp++]=this.zip_slide[this.zip_copy_dist++]}if(k==c)return c}this.zip_method=-1;return k},zip_inflate_stored:function(a,d,c){var g=this.zip_bit_len&7;this.zip_DUMPBITS(g);this.zip_NEEDBITS(16);
g=this.zip_GETBITS(16);this.zip_DUMPBITS(16);this.zip_NEEDBITS(16);if(g!=(~this.zip_bit_buf&65535))return-1;this.zip_DUMPBITS(16);this.zip_copy_leng=g;for(g=0;0<this.zip_copy_leng&&g<c;)this.zip_copy_leng--,this.zip_wp&=32767,this.zip_NEEDBITS(8),a[d+g++]=this.zip_slide[this.zip_wp++]=this.zip_GETBITS(8),this.zip_DUMPBITS(8);0==this.zip_copy_leng&&(this.zip_method=-1);return g},zip_inflate_fixed:function(d,c,k){if(null==this.zip_fixed_tl){var g,r=Array(288);for(g=0;144>g;g++)r[g]=8;for(;256>g;g++)r[g]=
9;for(;280>g;g++)r[g]=7;for(;288>g;g++)r[g]=8;this.zip_fixed_bl=7;g=new y(r,288,257,l,t,this.zip_fixed_bl);if(0!=g.status)return alert("HufBuild error: ".concat(g.status)),-1;this.zip_fixed_tl=g.root;this.zip_fixed_bl=g.m;for(g=0;30>g;g++)r[g]=5;this.zip_fixed_bd=5;g=new y(r,30,0,e,a,this.zip_fixed_bd);if(1<g.status)return this.zip_fixed_tl=null,alert("HufBuild error: ".concat(g.status)),-1;this.zip_fixed_td=g.root;this.zip_fixed_bd=g.m}this.zip_tl=this.zip_fixed_tl;this.zip_td=this.zip_fixed_td;
this.zip_bl=this.zip_fixed_bl;this.zip_bd=this.zip_fixed_bd;return this.zip_inflate_codes(d,c,k)},zip_inflate_dynamic:function(c,k,r){var g,h,x,u=Array(316);for(g=0;g<u.length;g++)u[g]=0;this.zip_NEEDBITS(5);var v=257+this.zip_GETBITS(5);this.zip_DUMPBITS(5);this.zip_NEEDBITS(5);var b=1+this.zip_GETBITS(5);this.zip_DUMPBITS(5);this.zip_NEEDBITS(4);g=4+this.zip_GETBITS(4);this.zip_DUMPBITS(4);if(286<v||30<b)return-1;for(h=0;h<g;h++)this.zip_NEEDBITS(3),u[d[h]]=this.zip_GETBITS(3),this.zip_DUMPBITS(3);
for(;19>h;h++)u[d[h]]=0;this.zip_bl=7;h=new y(u,19,19,null,null,this.zip_bl);if(0!=h.status)return-1;this.zip_tl=h.root;this.zip_bl=h.m;var f=v+b;for(g=x=0;g<f;){this.zip_NEEDBITS(this.zip_bl);var q=this.zip_tl.list[this.zip_GETBITS(this.zip_bl)];h=q.b;this.zip_DUMPBITS(h);h=q.n;if(16>h)u[g++]=x=h;else if(16==h){this.zip_NEEDBITS(2);h=3+this.zip_GETBITS(2);this.zip_DUMPBITS(2);if(g+h>f)return-1;for(;0<h--;)u[g++]=x}else{17==h?(this.zip_NEEDBITS(3),h=3+this.zip_GETBITS(3),this.zip_DUMPBITS(3)):(this.zip_NEEDBITS(7),
h=11+this.zip_GETBITS(7),this.zip_DUMPBITS(7));if(g+h>f)return-1;for(;0<h--;)u[g++]=0;x=0}}this.zip_bl=9;h=new y(u,v,257,l,t,this.zip_bl);0==this.zip_bl&&(h.status=1);if(0!=h.status)return-1;this.zip_tl=h.root;this.zip_bl=h.m;for(g=0;g<b;g++)u[g]=u[g+v];this.zip_bd=6;h=new y(u,b,0,e,a,this.zip_bd);this.zip_td=h.root;this.zip_bd=h.m;return 0==this.zip_bd&&257<v||0!=h.status?-1:this.zip_inflate_codes(c,k,r)},zip_inflate_start:function(){null==this.zip_slide&&(this.zip_slide=Array(65536));this.zip_bit_len=
this.zip_bit_buf=this.zip_wp=0;this.zip_method=-1;this.zip_eof=!1;this.zip_copy_leng=this.zip_copy_dist=0;this.zip_fixed_tl=this.zip_tl=null},zip_inflate_internal:function(a,d,c){var g;for(g=0;g<c&&(!this.zip_eof||-1!=this.zip_method);){if(0<this.zip_copy_leng){if(0!=this.zip_method)for(;0<this.zip_copy_leng&&g<c;)this.zip_copy_leng--,this.zip_copy_dist&=32767,this.zip_wp&=32767,a[d+g++]=this.zip_slide[this.zip_wp++]=this.zip_slide[this.zip_copy_dist++];else{for(;0<this.zip_copy_leng&&g<c;)this.zip_copy_leng--,
this.zip_wp&=32767,this.zip_NEEDBITS(8),a[d+g++]=this.zip_slide[this.zip_wp++]=this.zip_GETBITS(8),this.zip_DUMPBITS(8);0==this.zip_copy_leng&&(this.zip_method=-1)}if(g==c)break}if(-1==this.zip_method){if(this.zip_eof)break;this.zip_NEEDBITS(1);0!=this.zip_GETBITS(1)&&(this.zip_eof=!0);this.zip_DUMPBITS(1);this.zip_NEEDBITS(2);this.zip_method=this.zip_GETBITS(2);this.zip_DUMPBITS(2);this.zip_tl=null;this.zip_copy_leng=0}switch(this.zip_method){case 0:var k=this.zip_inflate_stored(a,d+g,c-g);break;
case 1:k=null!=this.zip_tl?this.zip_inflate_codes(a,d+g,c-g):this.zip_inflate_fixed(a,d+g,c-g);break;case 2:k=null!=this.zip_tl?this.zip_inflate_codes(a,d+g,c-g):this.zip_inflate_dynamic(a,d+g,c-g);break;default:k=-1}if(-1==k)return this.zip_eof?0:-1;g+=k}return g}};r.inflate=function(a){return(new r.Stream(a)).getBytes(4E9)};m.a=r},function(c,m,n){function p(a){return new Promise(function(c,e){var h=indexedDB.open(d,a);h.onerror=e.bind(null,"Error opening wasm cache database");h.onsuccess=function(){c(h.result)};
h.onupgradeneeded=function(a){var d=h.result;d.objectStoreNames.contains(k)&&(console.log("Clearing out version ".concat(a.oldVersion," wasm cache")),d.deleteObjectStore(k));console.log("Creating version ".concat(a.newVersion," wasm cache"));d.createObjectStore(k)}})}function l(a,d){return new Promise(function(c,e){var h=a.transaction([k]).objectStore(k).get(d);h.onsuccess=function(a){h.result?c(h.result):e("Module ".concat(d," was not found in wasm cache"))};h.onerror=e.bind(null,"Error getting wasm module ".concat(d))})}
function t(d,c,r,v){function h(a,d){a=a.transaction([k],"readwrite").objectStore(k).put(d,c);a.onerror=function(a){console.log("Failed to store in wasm cache: ".concat(a))};a.onsuccess=function(a){console.log("Successfully stored ".concat(c," in wasm cache"))}}function u(d){y=y||Date.now();return d?(Object(e.b)("load","Try instantiateStreaming"),fetch(Object(a.a)(c)).then(function(a){return WebAssembly.instantiateStreaming(a,r)})["catch"](function(a){Object(e.b)("load","instantiateStreaming Failed ".concat(c,
" message ").concat(a.message));return u(!1)})):Object(a.b)(c,v,!0,!0).then(function(a){g=Date.now();Object(e.b)("load","Request took ".concat(g-y," ms"));return WebAssembly.instantiate(a,r)})}var g,y;return p(d).then(function(a){return l(a,c).then(function(a){Object(e.b)("Found ".concat(c," in wasm cache"));return WebAssembly.instantiate(a,r)},function(d){Object(e.b)(d);return u(!!WebAssembly.instantiateStreaming).then(function(d){try{Object(e.b)("load","WASM compilation took ".concat(Date.now()-
(g||y)," ms")),h(a,d.module)}catch(b){}return d.instance})})},function(a){console.log(a);return u().then(function(a){return a.instance})})}n.d(m,"a",function(){return t});var e=n(0),a=n(1),d="wasm-cache",k="wasm-cache"},function(c,m,n){c.exports=n(15)},function(c,m,n){n.r(m);n(2);c=n(8);n(16);n(19);n(20);n(21);n(22);n(23);Object(c.a)()},function(c,m,n){(function(c,l){function m(c){"@babel/helpers - typeof";m="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:
function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return m(c)}(function(c){function a(){for(var b=0;b<O.length;b++)O[b][0](O[b][1]);O=[];K=!1}function d(b,f){O.push([b,f]);K||(K=!0,H(a,0))}function k(b,f){function a(b){r(f,b)}function d(b){t(f,b)}try{b(a,d)}catch(G){d(G)}}function h(b){var f=b.owner,a=f.state_;f=f.data_;var d=b[a];b=b.then;if("function"===typeof d){a=q;try{f=d(f)}catch(G){t(b,G)}}e(b,f)||(a===q&&r(b,f),a===w&&t(b,f))}
function e(b,f){var a;try{if(b===f)throw new TypeError("A promises callback cannot return that same promise.");if(f&&("function"===typeof f||"object"===m(f))){var d=f.then;if("function"===typeof d)return d.call(f,function(d){a||(a=!0,f!==d?r(b,d):v(b,d))},function(f){a||(a=!0,t(b,f))}),!0}}catch(G){return a||t(b,G),!0}return!1}function r(b,f){b!==f&&e(b,f)||v(b,f)}function v(a,q){a.state_===b&&(a.state_=f,a.data_=q,d(g,a))}function t(a,q){a.state_===b&&(a.state_=f,a.data_=q,d(B,a))}function u(b){var f=
b.then_;b.then_=void 0;for(b=0;b<f.length;b++)h(f[b])}function g(b){b.state_=q;u(b)}function B(b){b.state_=w;u(b)}function x(b){if("function"!==typeof b)throw new TypeError("Promise constructor takes a function argument");if(!1===this instanceof x)throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");this.then_=[];k(b,this)}c.createPromiseCapability=function(){var b={},f=new x(function(f,a){b.resolve=f;b.reject=
a});b.promise=f;return b};var p=c.Promise,D=p&&"resolve"in p&&"reject"in p&&"all"in p&&"race"in p&&function(){var b;new p(function(f){b=f});return"function"===typeof b}();"undefined"!==typeof exports&&exports?(exports.Promise=D?p:x,exports.Polyfill=x):"function"===typeof define&&n(18)?define(function(){return D?p:x}):D||(c.Promise=x);var b="pending",f="sealed",q="fulfilled",w="rejected",z=function(){},H="undefined"!==typeof l?l:setTimeout,O=[],K;x.prototype={constructor:x,state_:b,then_:null,data_:void 0,
then:function(b,f){b={owner:this,then:new this.constructor(z),fulfilled:b,rejected:f};this.state_===q||this.state_===w?d(h,b):this.then_.push(b);return b.then},"catch":function(b){return this.then(null,b)}};x.all=function(b){if("[object Array]"!==Object.prototype.toString.call(b))throw new TypeError("You must pass an array to Promise.all().");return new this(function(f,a){function d(b){w++;return function(a){q[b]=a;--w||f(q)}}for(var q=[],w=0,c=0,k;c<b.length;c++)(k=b[c])&&"function"===typeof k.then?
k.then(d(c),a):q[c]=k;w||f(q)})};x.race=function(b){if("[object Array]"!==Object.prototype.toString.call(b))throw new TypeError("You must pass an array to Promise.race().");return new this(function(f,a){for(var d=0,q;d<b.length;d++)(q=b[d])&&"function"===typeof q.then?q.then(f,a):f(q)})};x.resolve=function(b){return b&&"object"===m(b)&&b.constructor===this?b:new this(function(f){f(b)})};x.reject=function(b){return new this(function(f,a){a(b)})}})("undefined"!==typeof window?window:"undefined"!==typeof c?
c:"undefined"!==typeof self?self:void 0)}).call(this,n(5),n(4).setImmediate)},function(c,m,n){(function(c,l){(function(c,e){function a(b){delete g[b]}function d(b){if(n)setTimeout(d,0,b);else{var f=g[b];if(f){n=!0;try{var q=f.callback,w=f.args;switch(w.length){case 0:q();break;case 1:q(w[0]);break;case 2:q(w[0],w[1]);break;case 3:q(w[0],w[1],w[2]);break;default:q.apply(e,w)}}finally{a(b),n=!1}}}}function k(){p=function(b){l.nextTick(function(){d(b)})}}function h(){if(c.postMessage&&!c.importScripts){var b=
!0,f=c.onmessage;c.onmessage=function(){b=!1};c.postMessage("","*");c.onmessage=f;return b}}function y(){var b="setImmediate$"+Math.random()+"$",f=function(f){f.source===c&&"string"===typeof f.data&&0===f.data.indexOf(b)&&d(+f.data.slice(b.length))};c.addEventListener?c.addEventListener("message",f,!1):c.attachEvent("onmessage",f);p=function(f){c.postMessage(b+f,"*")}}function r(){var b=new MessageChannel;b.port1.onmessage=function(b){d(b.data)};p=function(f){b.port2.postMessage(f)}}function v(){var b=
x.documentElement;p=function(f){var a=x.createElement("script");a.onreadystatechange=function(){d(f);a.onreadystatechange=null;b.removeChild(a);a=null};b.appendChild(a)}}function m(){p=function(b){setTimeout(d,0,b)}}if(!c.setImmediate){var u=1,g={},n=!1,x=c.document,p,t=Object.getPrototypeOf&&Object.getPrototypeOf(c);t=t&&t.setTimeout?t:c;"[object process]"==={}.toString.call(c.process)?k():h()?y():c.MessageChannel?r():x&&"onreadystatechange"in x.createElement("script")?v():m();t.setImmediate=function(b){"function"!==
typeof b&&(b=new Function(""+b));for(var f=Array(arguments.length-1),a=0;a<f.length;a++)f[a]=arguments[a+1];g[u]={callback:b,args:f};p(u);return u++};t.clearImmediate=a}})("undefined"===typeof self?"undefined"===typeof c?this:c:self)}).call(this,n(5),n(7))},function(c,m){c.exports={}},function(c,m,n){(function(c){var l=function(c,e){var a=function y(a){a=this["catch"](a);return{cancel:e,promise:a,then:d.bind(a),"catch":y.bind(a)}},d=function v(d,c){d=this.then(d,c);return{cancel:e,promise:d,then:v.bind(d),
"catch":a.bind(d)}};return{cancel:e,promise:c,then:d.bind(c),"catch":a.bind(c)}};c.CancellablePromise=function(c,e){var a=!1,d,k=new Promise(function(k,l){d=function(){a||(e(),l("cancelled"))};(new Promise(c)).then(function(d){a=!0;k(d)},function(d){a=!0;l(d)})});return l(k,d)};c.CancellablePromise.all=function(c){var e=Promise.all(c);return l(e,function(){c.forEach(function(a){a.cancel&&a.cancel()})})}})("undefined"===typeof self?void 0:self)},function(c,m,n){(function(c,l){var m=n(0);(function(e){e.Module=
{TOTAL_MEMORY:50331648,noExitRuntime:!0,devicePixelRatio:1,cur_doc:null,cachePtrSize:0,hasBufOwnership:!0,loaded:!1,initCb:null,cachePtr:null,cleanupState:null,docs:{},postEvent:function(a,d,c){Module.workerMessageHandler.send("event",{docId:a,type:d,data:c})},postPagesUpdatedEvent:function(a,d,c){a={pageDimensions:Module.GetPageDimensions(a)};if(c)for(var k=0;k<c.length;++k)c[k]in a.pageDimensions?a.pageDimensions[c[k]].contentChanged=!0:console.warn("Invalid Page Number ".concat(c[k]));Module.postEvent(d,
"pagesUpdated",a);return a},GetIndividualPageDimensions:function(a,d,c){a=Module.PageGetPageInfo(c);a.id=Module.PageGetId(c);return a},GetPageDimensionsRange:function(a,d,c){for(var k={},e=Module.PDFDocGetPageIterator(a,d);d<c&&Module.IteratorHasNext(e);++d){var r=Module.stackSave(),l=Module.IteratorCurrent(e);k[d]=this.GetIndividualPageDimensions(a,d,l);Module.IteratorNext(e);Module.stackRestore(r)}return k},GetPageDimensions:function(a){try{var d=Module.stackSave(),c=Module.GetPageCount(a);if(0===
c)throw"This document has no pages.";return Module.GetPageDimensionsRange(a,1,c+1)}finally{Module.stackRestore(d)}},loadDoc:function(a,d){"undefined"===typeof Module&&this._main();var c=null;try{var e=Module.stackSave();d=Module.CreateDoc(a,d);var l=Module.GetDoc(d);if(Module.PDFDocInitSecurityHandler(l))return{docId:d,pageDimensions:Module.GetPageDimensions(l)};c={type:"NeedsPassword",errorData:{docId:d},message:"This document requires a password"}}catch(r){c={type:"InvalidPDF",message:r}}finally{Module.stackRestore(e)}throw c;
},loadCanvas:function(a,d,c,e,l,r,m,n){return new Promise(function(k,g){var h=Module.GetDoc(a),u=d+1,v=function(){k(Module.RasterizePage(h,u,c,e,r,l,m,n))},p=Module.docs[a].chunkStorage;if(p){var b=Module.GetDownloadData(h).downloader,f=p.getRequiredChunkOffsetArrays(b,u);p.keepChunks(f.have);b=function(){var b=p.getChunks(f.missing);Module.loadPromise=b.then(function(){var b=Module.loadPromise.cancelled;Module.loadPromise=null;b||v()})["catch"](function(b){"cancelled"!==b?g(b):Module.loadPromise=
null})};Module.loadPromise?Module.loadPromise.then(b,b):b()}else v()})},loadResources:function(a,d){Module.Initialize(d);Object(m.b)("worker","PDFNet initialized!");Module._TRN_PDFNetSetDefaultDiskCachingEnabled(!1);a=new Uint8Array(a);Module.PDFNetSetResourceData(a)},onRuntimeInitialized:function(){"undefined"===typeof Module&&(("undefined"!==typeof window?window:self).Module={});(function(a){a.PDFDocExportXFDF=function(a,c){a=Module.GetDoc(a);var d=Module.stackSave();try{var k=c?Module.PDFDocFDFExtract(a,
c):Module.PDFDocFDFExtract(a);var e=Module.FDFDocSaveAsXFDF(k);Module.stackRestore(d)}catch(v){throw Module.stackRestore(d),v;}return e};a.PageArrayToPageSet=function(a){var d=Module.stackSave();try{var c=Module.PageSetCreate();for(var e=0;e<a.length;++e)Module.PageSetAddPage(c,a[e]);Module.stackRestore(d)}catch(r){throw Module.stackRestore(d),r;}return c};a.cancelCurrent=function(){var a=Module.loadPromise;return a?(a.cancel(),a.cancelled=!0):(a=Module.cleanupState)?(c(a.timeout),a.cleanupArr.forEach(function(a){a()}),
Module.cleanupState=null,!0):!1};a.SetWorkerRestartCallback=function(a){Module.workerRestartCallback=a};a.XFDFMerge=function(a,c){if(c){var d=[];try{Object(m.b)("worker","Merge XFDF of length ".concat(c.length));var e=Module.GetUStringFromJSString(c,!0);d.push(function(){Module.UStringDestroy(e)});var k=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_FDFDocCreateFromXFDF(e,k));var l=Module.getValue(k,"i8*");d.push(function(){Module.FDFDocDestroy(l)});REX(Module._TRN_PDFDocFDFUpdate(a,l))}finally{d.forEach(function(a){a()})}}};
a.MergeXFDF=function(a,c){return new Promise(function(d,e){var k=[];try{var h=Module.stackSave();k[k.length]=function(){Module.stackRestore(h)};var l=Module.GetDoc(a);Module.XFDFMerge(l,c);k.forEach(function(a){a()});d({})}catch(u){k.forEach(function(a){a()}),e(u)}})};a.CreateBufferFile=function(a,c){Module.MakeDev(a);var d=new ArrayBuffer(c);d=new Uint8Array(d);for(var e=0;e<c;++e)d[e]=255;Module.docs[a]={buffer:d}};a.ReadBufferFile=function(a,c){var d=Module.docs[a].buffer;c&&(c=new Uint8Array(d.buffer.slice(0)),
Module.docs[a].buffer=c);return d};a.RemoveBufferFile=function(a){Module.docs[a]=null};a.SaveHelper=function(a,c,e){e="undefined"===typeof e?2:e;Module.MakeDev(c);a=Module._TRN_PDFDocSave(a,Module.GetUStringFromJSString(c),e,0);Module.docs[c].sink=null;REX(a);return Module.docs[c].buffer.buffer};a.SaveDoc=function(a,c,h,l,r,m){return new Promise(function(d,k){var g=Module.GetDoc(a),u=[];try{g=Module.GetDoc(a);var x=Module.stackSave();u[u.length]=function(){Module.stackRestore(x)};Module.XFDFMerge(g,
c);for(var n=Module.PDFDocGetPageIterator(g,1);Module.IteratorHasNext(n);){var p=Module.IteratorCurrent(n);try{for(var b=Module.PageGetNumAnnots(p);0<b;){var f=Module.PageGetAnnot(p,--b);Module.AnnotHasAppearance(f)||Module.AnnotRefreshAppearance(f)}}catch(C){Module.ObjErase(p,"Annots")}Module.IteratorNext(n)}if(m){b=function(b){b=new Uint8Array(b);e.FS.writeFile("watermarkFile",b);b=Module.ImageCreateFromFile(g,Module.GetUStringFromJSString("watermarkFile"));e.FS.unlink("watermarkFile");return b};
var q=Module.ElementBuilderCreate();u.push(function(){Module.ElementBuilderDestroy(q)});var w=Module.ElementWriterCreate();u.push(function(){Module.ElementWriterDestroy(w)});try{if(!m.hasOwnProperty("default"))throw Error("Watermark dictionary has no 'default' key!");var z=b(m["default"]);n=Module.PDFDocGetPageIterator(g,1);for(f=-1;Module.IteratorHasNext(n);){p=Module.IteratorCurrent(n);Module.IteratorNext(n);f++;var v=f.toString();try{if(m.hasOwnProperty(v)){var A=m[v];if(A)var y=b(A);else continue}else y=
z;var t=Module.PageGetPageInfo(p),L=Module.ElementBuilderCreateImage(q,y,0,0,t.width,t.height);Module.ElementWriterBegin(w,p);Module.ElementWriterWritePlacedElement(w,L);Module.ElementWriterEnd(w)}catch(C){console.warn("Watermark for page "+v+"can not be added due to error: "+C)}}}catch(C){console.warn("Watermarks can not be added due to error: "+C)}}n=0;if(l){var E=Module.PDFDocGetRoot(g);(n=Module.ObjFindObj(E,"OpenAction"))&&Module.ObjPut(E,"__OpenActionBackup__",n);var J=Module.ObjPutDict(E,"OpenAction");
Module.ObjPutName(J,"Type","Action");Module.ObjPutName(J,"S","JavaScript");Module.ObjPutString(J,"JS","this.print()")}var G=Module.SaveHelper(g,a,r);l&&(n?Module.ObjPut(E,"OpenAction",Module.ObjFindObj(E,"__OpenActionBackup__")):Module.ObjErase(E,"OpenAction"));u.forEach(function(b){b()});if(h)d({fileData:G});else{var N=G.slice(0);d({fileData:N})}}catch(C){u.forEach(function(b){b()}),k(C)}})};a.SaveDocFromFixedElements=function(a,c,e){a=Module.PDFDocCreateFromLayoutEls(a);a=Module.CreateDoc({type:"ptr",
value:a});return Module.SaveDoc(a,c,!0,!1,e)};a.GetCurrentCanvasData=function(a){var c=Module.currentRenderData;if(!c)return null;a&&REX(Module._TRN_PDFRasterizerUpdateBuffer(c.rast));var d=Date.now();a=Module.ReadBufferFile("b",a);Object(m.b)("bufferTiming","Copy took ".concat(Date.now()-d));return{pageBuf:a.buffer,pageWidth:c.out_width,pageHeight:c.out_height}};a.RasterizePage=function(a,c,e,n,r,p,A,u){return new Promise(function(d,k){Module.currentRenderData={};var g=Module.currentRenderData;g.out_width=
parseInt(e,10);g.out_height=parseInt(n,10);var h=[];h.push(function(){Module.currentRenderData=null});try{var v=Module.stackSave();h[h.length]=function(){Module.stackRestore(v)};var b=Module.GetPage(a,c),f=Module.PageGetPageWidth(b),q=Module.PageGetPageHeight(b);g.stride=4*g.out_width;g.buf_size=g.out_width*g.out_height*4;Object(m.b)("Memory","Created rasterizer");g.rast=Module.PDFRasterizerCreate();h.push(function(){Object(m.b)("Memory","Destroyed rasterizer");Module._TRN_PDFRasterizerDestroy(g.rast)});
if(A){var w=Module.EMSCreateUpdatedLayersContext(a,A);0!==w&&(Module._TRN_PDFRasterizerSetOCGContext(g.rast,w),h.push(function(){Module._TRN_OCGContextDestroy(w)}))}var z=Module.PageGetRotation(b),H=1===p||3===p;z=(1===z||3===z)!==H;var t=Module.allocate(48,"i8",Module.ALLOC_STACK);if(r){r.x1=r[0];r.y1=r[1];r.x2=r[2];r.y2=r[3];var y=Module.PageGetDefaultMatrix(b,0),B=Module.Matrix2DInverse(y);r=Module.Matrix2DMultBBox(B,r);if(r.x2<r.x1){var L=r.x1;r.x1=r.x2;r.x2=L}r.y2<r.y1&&(L=r.y1,r.y1=r.y2,r.y2=
L);var E=g.out_width/(z?r.y2-r.y1:r.x2-r.x1);var J=Module.GetDefaultMatrixBox(b,r,p)}else J=Module.PageGetDefaultMatrix(b,p),E=g.out_width/(H?q:f);Module.Matrix2DSet(t,E,0,0,E,0,0);Module.Matrix2DConcat(t,J);Object(m.b)("Memory","Allocated buffer of ".concat(g.buf_size));h.push(function(){Object(m.b)("Memory","Deallocated buffer of ".concat(g.buf_size));Module._free(g.bufPtr)});var G=Module.allocate(4,"i8",Module.ALLOC_STACK),N=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFRasterizerSetDrawAnnotations(g.rast,
0));Module.CreateBufferFile("b",g.buf_size);h.push(function(){Module.RemoveBufferFile("b")});if(10===u){REX(Module._TRN_PDFRasterizerSetOverprint(g.rast,1));var C=Module.PDFRasterizerRasterizeSeparations(g.rast,b,g.out_width,g.out_height,t,0,0);d({pageBuf:C,pageWidth:g.out_width,pageHeight:g.out_height})}else{REX(Module._TRN_PDFRasterizerSetOverprint(g.rast,u));REX(Module._TRN_PDFRasterizerGetChunkRendererPath(g.rast,b,Module.GetUStringFromJSString("b"),g.out_width,g.out_height,!0,t,0,0,0,G));var M=
Module.getValue(G,"i8*");h.splice(1,0,function(){REX(Module._TRN_ChunkRendererDestroy(M))})}var F=(new Date).getTime(),Q=l(function R(){try{for(var b=0,f=(new Date).getTime(),a=!1;200>b;){REX(Module._TRN_ChunkRendererRenderNext(M,N));if(!Module.getValue(N,"i8*")){a=!0;break}b=(new Date).getTime()-f}if(a){var c=Module.GetCurrentCanvasData(!1);Object(m.b)("worker","Total Page Time ".concat((new Date).getTime()-F));h.forEach(function(b){b()});d(c)}else Module.cleanupState.timeout=l(R,0)}catch(S){h.forEach(function(b){b()}),
k(S)}},0);Module.cleanupState={cleanupArr:h,timeout:Q};h.push(function(){Module.cleanupState=null})}catch(T){h.forEach(function(b){b()}),k(T)}})};a.GetDestinationVPosHPos=function(a){var c=0,d=0,e=!1,r=!1,l=Module.DestinationGetPage(a),m=Module.DestinationGetExplicitDestObj(a);l=Module.PageGetDefaultMatrix(l);l=Module.Matrix2DInverse(l);var u=Module.Matrix2DMult(l,{x:d,y:c});d=u.x;c=u.y;try{switch(Module.DestinationGetFitType(a)){case 2:case 6:var g=Module.ObjGetAt(m,2);Module.ObjIsNumber(g)&&(c=
Module.ObjGetNumber(g),e=!0);break;case 0:g=Module.ObjGetAt(m,2);Module.ObjIsNumber(g)&&(d=Module.ObjGetNumber(g),r=!0);g=Module.ObjGetAt(m,3);Module.ObjIsNumber(g)&&(c=Module.ObjGetNumber(g),e=!0);break;case 4:g=Module.ObjGetAt(m,2);Module.ObjIsNumber(g)&&(d=Module.ObjGetNumber(g),r=!0);g=Module.ObjGetAt(m,5);Module.ObjIsNumber(g)&&(c=Module.ObjGetNumber(g),e=!0);break;case 3:case 7:g=Module.ObjGetAt(m,2),Module.ObjIsNumber(g)&&(d=Module.ObjGetNumber(g),r=!0)}u=Module.Matrix2DMult(l,{x:d,y:c});d=
u.x;c=u.y;e||(c=0);r||(d=0)}catch(B){d=c=0}return{hpos:d,vpos:c}};a.FillBookmarkTree=function(a,c){for(var d=Module.stackSave(),e=0;Module.BookmarkIsValid(a);a=Module.BookmarkGetNext(a),++e)try{var k=[];if(Module.BookmarkHasChildren(a)){var l=Module.BookmarkGetFirstChild(a);Module.FillBookmarkTree(l,k)}var m=Module.BookmarkGetTitle(a);k={children:k,name:m};var u=Module.BookmarkGetAction(a);if(Module.ActionIsValid(u)){var g=Module.ActionGetType(u);if(0===g){var n=Module.ActionGetDest(u);if(Module.DestinationIsValid(n)){var p=
Module.DestinationGetPage(n);if(Module.PageIsValid(p)){var t=Module.PageGetIndex(p);if(0<t){k.pageNumber=t;var D=Module.GetDestinationVPosHPos(n);k.verticalOffset=D.vpos;k.horizontalOffset=D.hpos}}}}else if(5===g){var b=Module.ObjFindObj(u,"URI");b&&(k.url=Module.ObjGetAsPDFText(b))}}c[c.length]=k}catch(f){}Module.stackRestore(d)};a.LoadBookmarks=function(a){a=Module.GetDoc(a);var c=[],d=Module.stackSave();try{var e=Module.PDFDocGetFirstBookmark(a);Module.BookmarkIsValid(e)&&Module.FillBookmarkTree(e,
c)}catch(r){}Module.stackRestore(d);return{bookmarks:c}};a.UpdatePassword=function(a,c){try{var d=Module.stackSave(),e=Module.GetDoc(a);return Module.PDFDocInitStdSecurityHandler(e,c)?(e in downloadDataMap&&REX(Module._TRN_PDFDocDownloaderInitialize(e,downloadDataMap[e].downloader)),{success:!0,pageDimensions:Module.GetPageDimensions(e)}):{success:!1}}finally{Module.stackRestore(d)}};a.GetTextData=function(a,c){return new Promise(function(d,e){var k=c+1,h=Module.GetDoc(a),l=[];try{var u=Module.stackSave();
l[l.length]=function(){Module.stackRestore(u)};var g=Module.GetPage(h,k),m=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_TextExtractorCreate(m));var n=Module.getValue(m,"i8*");l[l.length]=function(){Module._TRN_TextExtractorDestroy(n)};REX(Module._TRN_TextExtractorBegin(n,g,0,1));var p=Module.allocate(48,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetDefaultMatrix(g,!0,1,0,p));var t=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_TextExtractorGetQuads(n,p,0,t));var b=Module.getValue(t,
"i8*"),f=Module._malloc(8*b);l[l.length]=function(){Module._free(f)};REX(Module._TRN_TextExtractorGetQuads(n,p,f,t));var q=Module.GetJSDoubleArrFromCore(f,b),w=Module.allocate(4,"i8",Module.ALLOC_STACK),z=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_UStringCreate(z));l[l.length]=function(){Module._TRN_UStringDestroy(H)};var H=Module.getValue(z,"i8*");REX(Module._TRN_TextExtractorGetAsTextWithOffsets(n,H,0,w));var y=Module.GetJSStringFromUString(H),K=Module.getValue(w,"i8*"),P=Module._malloc(4*
K);l[l.length]=function(){Module._free(P)};REX(Module._TRN_TextExtractorGetAsTextWithOffsets(n,H,P,w));var L=Module.GetJSIntArrayFromCore(P,K),E=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_TextExtractorCmptSemanticInfo(n,p,0,E));var J=Module.getValue(E,"i8*"),G=Module._malloc(8*J);l[l.length]=function(){Module._free(G)};REX(Module._TRN_TextExtractorCmptSemanticInfo(n,p,G,E));var N=Module.GetJSDoubleArrFromCore(G,J);l.forEach(function(b){b()});d({str:y,quads:q,offsets:L,struct:N})}catch(C){l.forEach(function(b){b()}),
e(C)}})};a.InsertBlankPages=function(a,c,e,l){return new Promise(function(d,k){var h=[],r=Module.GetDoc(a);try{var g=Module.stackSave();h[h.length]=function(){Module.stackRestore(g)};for(var n=c.length-1;0<=n;--n){var m=Module.PDFDocGetPageIterator(r,c[n]),p=Module.PDFDocPageCreate(r,e,l);Module.PDFDocPageInsert(r,m,p)}var v=Module.postPagesUpdatedEvent(r,a);h.forEach(function(b){b()});d(v)}catch(b){h.forEach(function(b){b()}),k(b)}})};a.InsertPages=function(a,c,e,l,r){return new Promise(function(d,
k){var h=[],g=Module.GetDoc(a);try{var n=Module.stackSave();h[h.length]=function(){Module.stackRestore(n)};if(c instanceof ArrayBuffer){var m=Module.CreateDoc(c);var p=Module.GetDoc(m);h[h.length]=function(){Module.DeleteDoc(m)}}else p=Module.GetDoc(c);for(var v=e.length,b=Module.PageSetCreate(),f=0;f<v;++f)Module.PageSetAddPage(b,e[f]);Module.PDFDocInsertPages(g,l,p,b,r);var q=Module.postPagesUpdatedEvent(g,a);h.forEach(function(b){b()});d(q)}catch(w){h.forEach(function(b){b()}),k(w)}})};a.MovePages=
function(a,c,e){return new Promise(function(d,k){var h=[],l=Module.GetDoc(a);try{var r=Module.stackSave();h[h.length]=function(){Module.stackRestore(r)};for(var g=c.length,n=Module.PageSetCreate(),m=0;m<g;++m)Module.PageSetAddPage(n,c[m]);Module.PDFDocMovePages(l,e,n);var p=Module.postPagesUpdatedEvent(l,a);h.forEach(function(a){a()});d(p)}catch(D){h.forEach(function(b){b()}),k(D)}})};a.RemovePages=function(a,c){return new Promise(function(d,e){var k=Module.GetDoc(a),h=[];try{var l=Module.stackSave();
h[h.length]=function(){Module.stackRestore(l)};for(var n=c.length-1;0<=n;--n){var g=Module.PDFDocGetPageIterator(k,c[n]);Module.IteratorHasNext(g)&&Module.PDFDocPageRemove(k,g)}var m=Module.postPagesUpdatedEvent(k,a);h.forEach(function(a){a()});d(m)}catch(x){h.forEach(function(a){a()}),e(x)}})};a.RotatePages=function(a,c,e){return new Promise(function(d,k){var h=Module.GetDoc(a),l=[];try{var r=Module.stackSave();l[l.length]=function(){Module.stackRestore(r)};var g=c.length,n=0,m=Module.PDFDocGetPageIterator(h,
c[0]),p=[];l.push(function(){Module._TRN_IteratorDestroy(m)});for(var t=c[0];Module.IteratorHasNext(m)&&n<c[g-1];++t){if(t===c[n]){var b=Module.IteratorCurrent(m),f=(Module.PageGetRotation(b)+e)%4;Module.PageSetRotation(b,f);p.push(t);n++}Module.IteratorNext(m)}var q=Module.postPagesUpdatedEvent(h,a,p);l.forEach(function(b){b()});d(q)}catch(w){l.forEach(function(b){b()}),k(w)}})};a.ExtractPages=function(a,c,e,l){return new Promise(function(d,k){var h=[];try{var r=Module.GetDoc(a),g=Module.stackSave();
h[h.length]=function(){Module.stackRestore(g)};var n=function(a){h.forEach(function(b){b()});k(a)};Module.XFDFMerge(r,e);var m=Module.CreateEmptyDoc();h[h.length]=function(){Module.DeleteDoc(m)};var p=Module.InsertPages(m,a,c,1,!0).then(function(){return Module.SaveDoc(m,void 0,!0,!1,void 0,l)}).then(function(a){h.forEach(function(b){b()});return a})["catch"](n);d(p)}catch(D){n(D)}})};a.CropPages=function(a,c,e,l,r,n){return new Promise(function(d,k){var g=Module.GetDoc(a),h=[];try{var m=Module.stackSave();
h[h.length]=function(){Module.stackRestore(m)};var p=c.length,u=0,b=Module.PDFDocGetPageIterator(g,c[0]);h.push(function(){Module._TRN_IteratorDestroy(b)});for(var f=[],q=c[0];Module.IteratorHasNext(b)&&u<c[p-1];++q){if(q===c[u]){var w=Module.IteratorCurrent(b),z=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetCropBox(w,z));var H=Module.PageGetRotation(w),t=Module.getValue(z,"double"),v=Module.getValue(z+8,"double"),y=Module.getValue(z+16,"double"),A=Module.getValue(z+24,"double");
0===H%4?(Module.setValue(z,t+r,"double"),Module.setValue(z+8,v+l,"double"),Module.setValue(z+16,y-n,"double"),Module.setValue(z+24,A-e,"double")):1===H%4?(Module.setValue(z,t+e,"double"),Module.setValue(z+8,v+r,"double"),Module.setValue(z+16,y-l,"double"),Module.setValue(z+24,A-n,"double")):2===H%4?(Module.setValue(z,t+n,"double"),Module.setValue(z+8,v+e,"double"),Module.setValue(z+16,y-r,"double"),Module.setValue(z+24,A-l,"double")):3===H%4&&(Module.setValue(z,t+l,"double"),Module.setValue(z+8,v+
n,"double"),Module.setValue(z+16,y-e,"double"),Module.setValue(z+24,A-r,"double"));Module.setValue(z+32,0,"double");REX(Module._TRN_PageSetBox(w,0,z));REX(Module._TRN_PageSetBox(w,1,z));f.push(q);u++}Module.IteratorNext(b)}var E=Module.postPagesUpdatedEvent(g,a,f);h.forEach(function(b){b()});d(E)}catch(J){h.forEach(function(b){b()}),k(J)}})}})("undefined"===typeof self?this.Module:self.Module);this.loaded=!0;Module.initCb&&Module.initCb()}}})(self)}).call(this,n(4).clearImmediate,n(4).setImmediate)},
function(c,m,n){(function(c){function l(a){"@babel/helpers - typeof";l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return l(a)}var m=n(0),e="undefined"!==typeof window?window:self;e.global=e;(function(a){a.currentFileString="/current";var d=0,k=0,h={},n=null;Module.chunkMax=200;var r=function(b,a,c,d,e){var f=new XMLHttpRequest;return CancellablePromise(function(q,
w){f.open("GET",b,!0);f.responseType="arraybuffer";f.onerror=function(){w("Network error occurred")};f.onload=function(){if(206===this.status&&f.response.byteLength===c){var b=new Int8Array(f.response);q(b)}else w("Download Failed")};var g=["bytes=",a,"-",a+c-1].join("");f.setRequestHeader("Range",g);e&&(f.withCredentials=e);d&&Object.keys(d).forEach(function(b){f.setRequestHeader(b,d[b])});f.send()},function(){f.abort()})},p=function(b){this.file=b;this.filePosition=0;this.fileLength=b.size;this.chunkData=
null;this.chunkPosition=0;this.chunkSize=2097152;this.reader=new FileReaderSync};p.prototype={read:function(b,a,c){c=this.filePosition+c<=this.fileLength?c:this.fileLength-this.filePosition;b=b.subarray(a,a+c);a=c;if(0<c&&this.chunkData&&this.chunkPosition<this.chunkData.length){var f=this.chunkPosition+c;f<=this.chunkData.length?(b.set(this.chunkData.subarray(this.chunkPosition,f)),this.chunkPosition=f,this.filePosition+=c,c=0):(b.set(this.chunkData.subarray(this.chunkPosition)),this.filePosition+=
this.chunkData.length-this.chunkPosition,c=f-this.chunkData.length)}0<c&&(this.fileLength<=this.chunkSize?(this.chunkData=new Int8Array(this.reader.readAsArrayBuffer(this.file)),this.chunkPosition=this.filePosition,b.set(this.chunkData.subarray(this.chunkPosition,this.chunkPosition+c)),this.chunkPosition+=c):c<this.chunkSize?(this.chunkPosition=0,f=this.filePosition,f+this.chunkSize>this.fileLength&&(f=this.fileLength-this.chunkSize,this.chunkPosition=this.filePosition-f),this.chunkData=new Int8Array(this.reader.readAsArrayBuffer(this.file.slice(f,
f+this.chunkSize))),b.set(this.chunkData.subarray(this.chunkPosition,this.chunkPosition+c),a-c),this.chunkPosition+=c):(f=new Int8Array(this.reader.readAsArrayBuffer(this.file.slice(this.filePosition,this.filePosition+c))),b.set(f),this.chunkPosition=0,this.chunkData=null),this.filePosition+=c);return a},seek:function(b){this.chunkData&&(this.chunkPosition+=b-this.filePosition,this.fileLength>this.chunkSize&&(this.chunkPosition>this.chunkData.length||0>this.chunkPosition)&&(this.chunkPosition=0,this.chunkData=
null));this.filePosition=b},close:function(){this.reader=this.file=null},getPos:function(){return this.filePosition},getTotalSize:function(){return this.fileLength}};var t=function(b){this.data=b;this.position=0;this.length=this.data.length};t.prototype={read:function(b,a,c){c=this.position+c<=this.length?c:this.length-this.position;b=b.subarray(a,a+c);a=this.data.subarray(this.position,this.position+c);b.set(a);this.position+=c;return c},write:function(b,a,c){c=this.position+c<=this.length?c:this.length-
this.position;b=b.subarray(a,a+c);this.data.subarray(this.position,this.position+c).set(b);this.position+=c;return c},seek:function(b){this.position=b},close:function(){this.data=null},getPos:function(){return this.position},getTotalSize:function(){return this.length}};var u=function(b,a,c,d,e){"object"===l(b)?(this.lruList=b.lruList,this.chunkMap=b.chunkMap,this.length=b.length,this.url=b.url,this.customHeaders=b.customHeaders,this.withCredentials=b.withCredentials):(this.lruList=[],this.chunkMap=
{},this.chunkMap[a]=e,this.length=a,this.url=b,this.customHeaders=c,this.withCredentials=d)};u.prototype={lruUpdate:function(b){var a=this.lruList.lastIndexOf(b);0<=a&&this.lruList.splice(a,1);this.lruList.push(b)},getChunk:function(b){var a=this;if(this.chunkMap[b])this.lruUpdate(b);else{var c=Math.min(b+524288,this.length)-1,d=new XMLHttpRequest;d.open("GET",this.url,!1);d.responseType="arraybuffer";d.setRequestHeader("Range",["bytes=",b,"-",c].join(""));this.withCredentials&&(d.withCredentials=
this.withCredentials);this.customHeaders&&Object.keys(this.customHeaders).forEach(function(b){d.setRequestHeader(b,a.customHeaders[b])});d.send();if(200===d.status||206===d.status)this.writeChunk(new Int8Array(d.response),b);else throw Error("Failed to load data from");}return this.chunkMap[b]},hadChunk:function(b){return b in this.chunkMap},hasChunk:function(b){return this.chunkMap[b]},getCacheData:function(){return this.chunkMap[this.length]},getRequiredChunkOffsetArrays:function(b,a){var f={have:[],
downloading:[],missing:[]};try{var c=Module.stackSave();var d=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DownloaderGetRequiredChunksSize(b,a,d));var e=Module.getValue(d,"i8*");if(e){var g=Module._malloc(4*e);REX(Module._TRN_DownloaderGetRequiredChunks(b,a,g,e));for(b=0;b<e;++b){var h=Module.getValue(g+4*b,"i8*");this.hasChunk(h)?f.have.push(h):this.hadChunk(h)?f.missing.push(h):f.downloading.push(h)}}}finally{g&&Module._free(g),Module.stackRestore(c)}return f},keepVisibleChunks:function(b,
a){for(var f=a.length,c=Module.chunkMax/2,d=0,e=0;e<f;++e){var g=this.getRequiredChunkOffsetArrays(b,a[e]),h=g.have,k=h.length;d+=k;if(d>c){this.keepChunks(h.slice(0,k-d+c));break}this.keepChunks(g.have)}},getChunkAsync:function(b){var a=this,c=b+524288,d=524288;c>this.length&&(d-=c-this.length);return r(this.url,b,d,this.customHeaders,this.withCredentials).then(function(f){a.writeChunk(f,b)})},getChunks:function(b){for(var a=b.length,c=Array(a),d=0;d<a;++d)c[d]=this.getChunkAsync(b[d]);return CancellablePromise.all(c)},
keepChunks:function(b){for(var a=b.length,c=0;c<a;++c)this.lruUpdate(b[c])},writeChunk:function(b,a,c){c=c||0;var f=this.chunkMap[a],d=b.length,q=this.lruList.length>=Module.chunkMax&&!f;524288!==d||b.buffer.byteLength!==d?(q?(f=this.lruList.shift(),q=this.chunkMap[f],524288>q.length&&(q=new Int8Array(524288)),this.chunkMap[f]=null):q=f?this.chunkMap[a]:new Int8Array(524288),q.subarray(c,c+d).set(b),b=q):q&&(f=this.lruList.shift(),this.chunkMap[f]=null);this.lruUpdate(a);this.chunkMap[a]=b}};var g=
function(b){this.chunkStorage=b;this.position=0;this.length=this.chunkStorage.length};g.prototype={read:function(b,a,c){var f=this.position+c<=this.length,d=f?c:this.length-this.position;if(this.position<this.length){var q;for(q=0;q<d;){var e=this.position%524288;var g=this.position-e;var h=d-q;if(this.chunkStorage.hadChunk(g)){g=this.chunkStorage.getChunk(g);var k=b.subarray(a+q,a+q+h);e=g.subarray(e,e+h);k.set(e);e=e.length;q+=e;this.position+=e}else for(this.position+=h;q<d;++q)k[q]=0}}if(!f){k=
a+d;if(c-=d)a=this.chunkStorage.getCacheData(),c>a.length&&(c=a.length),f=this.position-this.length,k=b.subarray(k,k+c),e=a.subarray(f,f+c),k.set(e);this.position+=c;return d+c}return d},write:function(b,a,c){var f=this.position+c<=this.length,d=this.position+c<=this.length?c:this.length-this.position,q=b.subarray(a,a+d),e=this.position%524288;this.chunkStorage.writeChunk(q,this.position-e,e);this.position+=d;if(!f){q=a+d;if(c-=d)a=this.chunkStorage.getCacheData(),c>a.length&&(c=a.length),f=this.position-
this.length,q=b.subarray(q,q+c),a.subarray(f,f+c).set(q);this.position+=c;return d+c}return d},seek:function(b){this.position=b},close:function(){this.chunkStorage=null},getPos:function(){return this.position},getTotalSize:function(){return this.length}};var B=function(b){this.docId=b;this.length=0;this.data=new Int8Array(8192);this.position=0};B.prototype={seek:function(b){this.position=b},close:function(){var b=new Int8Array(this.data.buffer.slice(0,this.length));Module.ChangeDocBackend(this.docId,
{ptr:Module.GetDoc(this.docId),buffer:b});this.data=null},getPos:function(){return this.position},getTotalSize:function(){return this.length},read:function(b,a,c){var f=this.data.length;c=c+a<f?c:f-a;b=b.subarray(a,a+c);a=this.data.subarray(this.position,this.position+c);b.set(a);this.position+=c;return c},write:function(b,a,c){for(var f=this.position+c,d=this.data.length;f>d;){d=Math.max(d*(16777216<d?1.5:2),f);var q=new Int8Array(d);q.set(this.data.subarray(0,this.length),0);this.data=q}b=b.subarray(a,
a+c);this.data.set(b,this.position);this.position+=c;this.position>this.length&&(this.length=this.position);return c}};var x={IsSink:function(b){return 66===(b.flags&255)},open:function(b){var a=b.path.slice(1);this.IsSink(b)?(b.provider=new B(a),Module.docs[a].sink=b.provider):b.provider=Module.docs[a].sink?new t(Module.docs[a].sink.data):Module.docs[a].chunkStorage?new g(Module.docs[a].chunkStorage):Module.docs[a].buffer?new t(Module.docs[a].buffer):new p(Module.docs[a].file)},close:function(b){b.provider.close()},
read:function(b,a,c,d,e){return b.provider.read(a,c,d)},llseek:function(b,a,c){b=b.provider;1===c?a+=b.getPos():2===c&&(a=b.getTotalSize()+a);if(0>a)throw new FS.ErrnoError(e.ERRNO_CODES.EINVAL);b.seek(a);return a},write:function(b,a,c,d,e){return d?b.provider.write(a,c,d):0}};e.THROW=function(b){throw{type:"InvalidPDF",message:b};};var I=function(b){return"Exception: \n\t Message: ".concat(a.GetJSStringFromCString(Module._TRN_GetMessage(b)),"\n\t Filename: ").concat(a.GetJSStringFromCString(Module._TRN_GetFileName(b)),
"\n\t Function: ").concat(a.GetJSStringFromCString(Module._TRN_GetFunction(b)),"\n\t Linenumber: ").concat(a.GetJSStringFromCString(Module._TRN_GetLineNum(b)))};a.GetErrToString=I;e.REX=function(b){b&&THROW(I(b))};a.Initialize=function(b){var a=Module.stackSave();b=b?Module.allocate(Module.intArrayFromString(b),"i8",Module.ALLOC_STACK):0;REX(Module._TRN_PDFNetInitialize(b));Module.stackRestore(a)};a.GetDoc=function(b){if(b in Module.docs)return Module.docs[b].ptr;throw{type:"InvalidDocReference",
message:"Unable to access Document id=".concat(b,". The document appears to be invalid or was deleted.")};};a.clearDocBackend=function(){null!==Module.cachePtr?(Module.hasBufOwnership&&Module._free(Module.cachePtr),Module.cachePtr=null):Module.docs[a.currentFileString]&&delete Module.docs[a.currentFileString]};a.MakeDev=function(b){if(!h[b]){var a=FS.makedev(3,5);FS.registerDevice(a,x);FS.mkdev(b,511,a);h[b]=!0}};a.CreateDocFileBackend=function(b,a){Module.MakeDev(a);var f=Module.allocate(4,"i8",
Module.ALLOC_STACK);Module.docs[a]={file:b};b=Module.allocate(Module.intArrayFromString(a),"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocCreateFromFilePath(b,f));f=Module.getValue(f,"i8*");Module.docs[a].ptr=f};a.InsertImageIntoDoc=function(b,a,c){var f=[];try{var d=Module.ElementBuilderCreate();f.push(function(){Module.ElementBuilderDestroy(d)});var e=Module.ElementWriterCreate();f.push(function(){Module.ElementWriterDestroy(e)});if(c){var q=c.width;var g=c.height}else q=Module.ImageGetImageWidth(a),
g=Module.ImageGetImageHeight(a),c=q/g,c>612/792?(q=612,g=parseInt(q/c,10)):(g=792,q=parseInt(g*c,10));var h=Module.ElementBuilderCreateImage(d,a,0,0,q,g),k=Module.PDFDocPageCreate(b,q,g);Module.ElementWriterBegin(e,k);Module.ElementWriterWritePlacedElement(e,h);Module.ElementWriterEnd(e);Module.PDFDocPagePushBack(b,k)}finally{f.forEach(function(b){b()})}};var D=function(b,a,c){"object"===l(b)?(this.m_pages=b.m_pages,this.m_has_named_dests=b.m_has_named_dests,this.m_finished_download=b.m_finished_download,
this.m_has_outline=b.m_has_outline,this.m_current_page=b.m_current_page,this.m_id=b.m_id,this.size=b.size,this.timeout=b.timeout,this.eventPageArray=b.eventPageArray,this.requirePageCallbacks=b.requirePageCallbacks):(this.m_pages=[],this.m_has_outline=this.m_finished_download=this.m_has_named_dests=!1,this.m_current_page=1,this.m_id=c,this.size=b,this.timeout=null,this.eventPageArray=[],this.requirePageCallbacks={});this.downloadUserData=Module.createDownloadUserData(a,c)};D.prototype={getJSUrl:function(){return Module.extractDownloadUserData(this.downloadUserData).url},
getDocId:function(){return Module.extractDownloadUserData(this.downloadUserData).docId},destroyUserData:function(){this.m_id in Module.withCredentials&&delete Module.withCredentials[this.m_id];this.m_id in Module.customHeadersMap&&delete Module.customHeadersMap[this.m_id];Module.destroyDownloadUserData(this.downloadUserData)}};a.createDownloadUserData=function(b,a){b=Module.allocate(Module.intArrayFromString(b),"i8",Module.ALLOC_NORMAL);var f=Module.allocate(8,"i8",Module.ALLOC_NORMAL);Module.setValue(f,
b,"i8*");Module.setValue(f+4,parseInt(a,10),"i32");return this.downloadUserData=f};a.extractDownloadUserData=function(b){var f=Module.getValue(b,"i8*");f=a.GetJSStringFromCString(f);b=Module.getValue(b+4,"i32").toString();return{url:f,docId:b}};a.destroyDownloadUserData=function(b){Module._free(Module.getValue(b,"i8*"));Module._free(b)};e.downloadDataMap={};Module.customHeadersMap={};Module.withCredentials={};a.GetDownloadData=function(b){if(b in downloadDataMap)return downloadDataMap[b]};a.DownloaderHint=
function(b,a){var f=this,c=Module.GetDoc(b),d=downloadDataMap[c];a.currentPage&&(d.m_current_page=a.currentPage);if(a.visiblePages){var e=a.visiblePages;for(a=0;a<e.length;++a)++e[a];Object.keys(this.requirePageCallbacks).forEach(function(b){f.requirePageCallbacks.hasOwnProperty(b)&&e.push(parseInt(b,10))});(a=Module.docs[b].chunkStorage)&&a.keepVisibleChunks(d.downloader,e);d=e.length;b=Module.allocate(4*d,"i8",Module.ALLOC_STACK);for(a=0;a<d;++a)Module.setValue(b+4*a,e[a],"i32");REX(Module._TRN_PDFDocDownloadPages(c,
b,d,1,0))}};a.RequirePage=function(b,a){return new Promise(function(f,c){c=Module.GetDoc(b);var d=downloadDataMap[c];!d||d.m_finished_download||d.m_pages[a]?f():(a in d.requirePageCallbacks?d.requirePageCallbacks[a].push(f):d.requirePageCallbacks[a]=[f],f=Module.allocate(4,"i8",Module.ALLOC_STACK),Module.setValue(f,a,"i32"),Module._TRN_PDFDocDownloadPages(c,f,1,0,0))})};a.IsLinearizationValid=function(b){b=Module.GetDoc(b);if(b=downloadDataMap[b]){var a=Module.allocate(4,"i8",Module.ALLOC_STACK);
REX(Module._TRN_DownloaderIsLinearizationValid(b.downloader,a));return 0!==Module.getValue(a,"i8")}return!1};a.ShouldRunRender=function(b,a){b=Module.GetDoc(b);return(b=downloadDataMap[b])?b.m_finished_download?!0:b.m_pages[a]:!0};a.createCallbacksStruct=function(b){if(!n){var a=function(b){return function(a){var f=arguments;a in downloadDataMap?b.apply(this,f):c(function(){a in downloadDataMap&&b.apply(this,f)},0)}};n={downloadProc:Module.addFunction(function(b,a,c,f,d){f=Module.extractDownloadUserData(f);
var e=f.docId;r(f.url,a,c,Module.customHeadersMap[e],Module.withCredentials[e]).then(function(f){e in Module.docs&&Module.docs[e].chunkStorage&&Module.docs[e].chunkStorage.writeChunk(f,a);Module._TRN_DownloadComplete(0,a,c,b)})}),notifyUpdatePage:Module.addFunction(a(function(b,a,c,f){var d=downloadDataMap[b];d.m_pages[a]=!0;var e=d.eventPageArray;if(a in d.requirePageCallbacks)for(c=d.requirePageCallbacks[a],f=0;f<c.length;++f)c[f]();d.timeout?e.push(a):(e=d.eventPageArray=[a],d.timeout=setTimeout(function(){Module.postPagesUpdatedEvent(b,
d.m_id,e);d.timeout=null},100))})),notifyUpdateOutline:Module.addFunction(a(function(b,a){b=downloadDataMap[b];b.m_has_outline||(b.m_has_outline=!0,Module.postEvent(b.m_id,"bookmarksUpdated",{}))})),notifyUpdateNamedDests:Module.addFunction(a(function(b,a){b=downloadDataMap[b];b.m_has_named_dests||(b.m_has_named_dests=!0)})),notifyUpdateThumb:Module.addFunction(a(function(b,a){})),notifyFinishedDownload:Module.addFunction(a(function(b,a){b=downloadDataMap[b];b.m_finished_download||(b.m_finished_download=
!0,Module.postEvent(b.m_id,"documentComplete",{}))})),notifyDocumentError:Module.addFunction(function(b,a){}),getCurrentPage:Module.addFunction(function(b,a){return downloadDataMap[b].m_current_page})}}a=Module.allocate(40,"i8",Module.ALLOC_STACK);Module.setValue(a,n.downloadProc,"i8*");Module.setValue(a+4,b,"i8*");Module.setValue(a+8,n.notifyUpdatePage,"i8*");Module.setValue(a+12,n.notifyUpdateOutline,"i8*");Module.setValue(a+16,n.notifyUpdateNamedDests,"i8*");Module.setValue(a+20,n.notifyUpdateThumb,
"i8*");Module.setValue(a+24,n.notifyFinishedDownload,"i8*");Module.setValue(a+28,n.notifyDocumentError,"i8*");Module.setValue(a+32,n.getCurrentPage,"i8*");Module.setValue(a+36,0,"i8*");return a};a.CreateDocDownloaderBackend=function(b,a,c){var f=b.url,d=b.size,e=b.customHeaders,g=b.withCredentials;e&&(Module.customHeadersMap[c]=e);g&&(Module.withCredentials[c]=g);var q=b.downloadData?new D(b.downloadData,f,c,e,g):new D(b.size,f,c,e,g);var h=Module.createCallbacksStruct(q.downloadUserData),k=Module.allocate(4,
"i8",Module.ALLOC_STACK);Module.MakeDev(c);b.chunkStorage?f=new u(b.chunkStorage):(b=new Int8Array(new ArrayBuffer(Math.ceil((b.size+524288-1)/524288/8))),f=new u(f,d,e,g,b));Module.docs[c]={chunkStorage:f};REX(Module._TRN_DownloaderCreate(h,d,Module.GetUStringFromJSString(c),k));q.downloader=Module.getValue(k,"i8*");if(d=Module._TRN_PDFDocCreateFromFilter(q.downloader,a))Module._TRN_FilterDestroy(q.downloader),REX(d);a=Module.getValue(a,"i8*");Module.docs[c].ptr=a;Module.PDFDocInitSecurityHandler(a)&&
REX(Module._TRN_PDFDocDownloaderInitialize(a,q.downloader));downloadDataMap[a]=q};a.CreateDocBackend=function(b,c){var f=b.value,e=b.extension,g=b.type,h=Module.allocate(4,"i8",Module.ALLOC_STACK),k=Module.stackSave();try{if(f)if("ptr"===g)Module.docs[c]={ptr:f};else{var n="object"===l(f)&&f.url;g=e&&"pdf"!==e;if(n)a.CreateDocDownloaderBackend(f,h,c);else{var r=f instanceof ArrayBuffer;n=r?"buffer":"file";if(r&&(f=new Uint8Array(f),10485760>f.length+d&&!g)){d+=f.length;var m=f.length,p=Module._malloc(f.length);
Module.HEAPU8.set(f,p);REX(Module._TRN_PDFDocCreateFromBuffer(p,m,h));var u=Module.getValue(h,"i8*");Module.docs[c]={ptr:u,bufPtr:p,bufPtrSize:m,ownership:!0};Module.docs[c].extension=e;return}Module.MakeDev(c);r={};r[n]=f;Module.docs[c]=r;if(g){if(b.pageSizes&&b.pageSizes.length)var t=b.pageSizes[0];else b.defaultPageSize&&(t=b.defaultPageSize);var v=Module.GetUStringFromJSString(c);REX(Module._TRN_PDFDocCreate(h));u=Module.getValue(h,"i8*");var x=Module.ImageCreateFromFile(u,v);Module.InsertImageIntoDoc(u,
x,t)}else{var B=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocCreateFromFilePath(B,h));u=Module.getValue(h,"i8*")}Module.docs[c].extension=e;Module.docs[c].ptr=u}}else REX(Module._TRN_PDFDocCreate(h)),u=Module.getValue(h,"i8*"),Module.docs[c]={ptr:u},Module.docs[c].extension=e}finally{Module.stackRestore(k)}};a.ChangeDocBackend=function(b,a){var c=Module.docs[b];c?(c.bufPtr&&c.ownership&&(Module._free(c.bufPtr),d-=c.bufPtrSize),delete Module.docs[b]):
Object(m.c)("Trying to delete document ".concat(b," that does not exist."));Module.docs[b]=a};a.DeleteDoc=function(b){var a=Module.docs[b];a?(a.ptr&&(a.ptr in downloadDataMap&&(clearTimeout(downloadDataMap[a.ptr].timeout),downloadDataMap[a.ptr].destroyUserData(),delete downloadDataMap[a.ptr]),Module.PDFDocDestroy(a.ptr)),a.bufPtr&&a.ownership&&(Module._free(a.bufPtr),d-=a.bufPtrSize),delete Module.docs[b]):Object(m.c)("Trying to delete document ".concat(b," that does not exist."))};a.CreateDoc=function(b,
c){if("id"===b.type)return Module.docPtrStringToIdMap[b.value];if(!c){do c=(++k).toString();while(c in Module.docs)}Module.hasBufOwnership=!0;a.CreateDocBackend(b,c);return c};a.CreateEmptyDoc=function(){var b=(++k).toString(),a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocCreate(a));a=Module.getValue(a,"i8*");Module.docs[b]={ptr:a};return b};a.PDFDocCreateFromLayoutEls=function(b){var a=new Uint8Array(b);b=Module._malloc(a.length);var c=Module.stackSave(),d=Module.allocate(4,
"i8",Module.ALLOC_STACK);Module.HEAPU8.set(a,b);a=Module._TRN_PDFDocCreateFromLayoutEls(b,a.length,d);d=Module.getValue(d,"i8*");Module._free(b);Module.stackRestore(c);REX(a);return d};a.GetPageCount=function(b){var a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetPageCount(b,a));return Module.getValue(a,"i8*")};a.GetPage=function(b,a){var c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetPage(b,a,c));b=Module.getValue(c,"i8*");Module.PageIsValid(b)||THROW("Trying to access page that doesn't exist at index ".concat(a));
return b};a.PageGetPageWidth=function(b){var a=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetPageWidth(b,1,a));return Module.getValue(a,"double")};a.PageGetPageHeight=function(b){var a=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetPageHeight(b,1,a));return Module.getValue(a,"double")};a.PageGetDefaultMatrix=function(a,c){var b=Module.allocate(48,"i8",Module.ALLOC_STACK);c||(c=0);REX(Module._TRN_PageGetDefaultMatrix(a,!0,1,c,b));return b};a.GetMatrixAsArray=
function(a){for(var b=[],c=0;6>c;++c)b[c]=Module.getValue(a+8*c,"double");return b};a.PageGetPageInfo=function(a){var b=Module.allocate(48,"i8",Module.ALLOC_STACK),c=Module.allocate(8,"i8",Module.ALLOC_STACK),d=Module.allocate(8,"i8",Module.ALLOC_STACK),e=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetPageInfo(a,!0,1,0,c,d,b,e));return{rotation:Module.getValue(e,"i8*"),width:Module.getValue(c,"double"),height:Module.getValue(d,"double"),matrix:Module.GetMatrixAsArray(b)}};a.GetUStringFromJSString=
function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK),f=2*(a.length+1),d=Module.allocate(f,"i8",c?Module.ALLOC_NORMAL:Module.ALLOC_STACK);Module.stringToUTF16(a,d,f);a=Module._TRN_UStringCreateFromString(d,b);c&&Module._free(d);REX(a);return Module.getValue(b,"i8*")};a.GetJSStringFromUString=function(a){var b=Module.allocate(4,"i16*",Module.ALLOC_STACK);REX(Module._TRN_UStringCStr(a,b));return Module.UTF16ToString(Module.getValue(b,"i16*"))};a.GetJSStringFromCString=function(a){return Module.UTF8ToString(a)};
a.PDFNetSetResourceData=function(a){Module.res_ptr=Module._malloc(a.length);Module.HEAPU8.set(a,Module.res_ptr);REX(Module._TRN_PDFNetSetResourceData(Module.res_ptr,a.length));Module.res_ptr_size=a.length};a.PDFDocDestroy=function(a){REX(Module._TRN_PDFDocDestroy(a))};a.VectorGetSize=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_VectorGetSize(a,b));return Module.getValue(b,"i32")};a.VectorGetAt=function(a,c){var b=Module.allocate(1,"i8*",Module.ALLOC_STACK);REX(Module._TRN_VectorGetAt(a,
c,b));return Module.getValue(b,"i8*")};a.VectorDestroy=function(a){REX(Module._TRN_VectorDestroy(a))};a.PDFRasterizerCreate=function(){var a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFRasterizerCreate(0,a));return Module.getValue(a,"i8*")};a.ExtractSeparationData=function(a){var b=Module.getValue(a,"i8*"),c=Module.getValue(a+4,"i32"),d=Module.getValue(a+8,"i8*"),e=Module.HEAPU8[a+12],g=Module.HEAPU8[a+13],h=Module.HEAPU8[a+14];a=Module.HEAPU8[a+15];var k=new Uint8Array(c);k.set(Module.HEAPU8.subarray(b,
b+c));b=Module.GetJSStringFromUString(d);return{color:[e,g,h,a],data:k.buffer,name:b}};a.PDFRasterizerRasterizeSeparations=function(a,c,d,e,g,h,k){var b=Module.allocate(8,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFRasterizerRasterizeSeparations(a,c,d,e,g,h,k,b));a=Module.getValue(b,"i8*");c=Module.VectorGetSize(a);d=Array(c);for(e=0;e<c;++e)g=Module.VectorGetAt(a,e),d[e]=Module.ExtractSeparationData(g);Module.VectorDestroy(a);return d};a.PageGetRotation=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);
REX(Module._TRN_PageGetRotation(a,b));return Module.getValue(b,"i8*")};a.PageGetId=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetSDFObj(a,b));b=Module.getValue(b,"i8*");a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetObjNum(b,a));a=Module.getValue(a,"i32");var c=Module.allocate(2,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetGenNum(b,c));c=Module.getValue(c,"i16");return"".concat(a,"-").concat(c)};a.PageSetRotation=function(a,c){REX(Module._TRN_PageSetRotation(a,
c))};a.GetDefaultMatrixBox=function(a,c,d){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetRotation(a,b));a=(Module.getValue(b,"i32")+d)%4;d=Module.allocate(48,"i8",Module.ALLOC_STACK);switch(a){case 0:return REX(Module._TRN_Matrix2DSet(d,1,0,0,-1,-c.x1,c.y2)),d;case 1:return REX(Module._TRN_Matrix2DSet(d,0,1,1,0,-c.y1,-c.x1)),d;case 2:return REX(Module._TRN_Matrix2DSet(d,-1,0,0,1,c.x2,-c.y1)),d;case 3:return REX(Module._TRN_Matrix2DSet(d,0,-1,-1,0,c.y2,c.x2)),d}throw Error("Yikes, we don't support that rotation type");
};a.Matrix2DMultBBox=function(a,c){var b=Module.allocate(8,"i8",Module.ALLOC_STACK),d=Module.allocate(8,"i8",Module.ALLOC_STACK);Module.setValue(b,c.x1,"double");Module.setValue(d,c.y1,"double");REX(Module._TRN_Matrix2DMult(a,b,d));c.x1=Module.getValue(b,"double");c.y1=Module.getValue(d,"double");Module.setValue(b,c.x2,"double");Module.setValue(d,c.y2,"double");REX(Module._TRN_Matrix2DMult(a,b,d));c.x2=Module.getValue(b,"double");c.y2=Module.getValue(d,"double");return c};a.Matrix2DMult=function(a,
c){var b=Module.allocate(8,"i8",Module.ALLOC_STACK),d=Module.allocate(8,"i8",Module.ALLOC_STACK);Module.setValue(b,c.x,"double");Module.setValue(d,c.y,"double");REX(Module._TRN_Matrix2DMult(a,b,d));c.x=Module.getValue(b,"double");c.y=Module.getValue(d,"double");return c};a.Matrix2DConcat=function(a,c){var b=Module.getValue(c,"double"),d=Module.getValue(c+8,"double"),f=Module.getValue(c+16,"double"),e=Module.getValue(c+24,"double"),g=Module.getValue(c+32,"double");c=Module.getValue(c+40,"double");
REX(Module._TRN_Matrix2DConcat(a,b,d,f,e,g,c))};a.Matrix2DSet=function(a,c,d,e,g,h,k){REX(Module._TRN_Matrix2DSet(a,c,d,e,g,h,k))};a.IteratorHasNext=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_IteratorHasNext(a,b));return 0!==Module.getValue(b,"i8")};a.IteratorCurrent=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_IteratorCurrent(a,b));return Module.getValue(Module.getValue(b,"i8*"),"i8*")};a.IteratorNext=function(a){REX(Module._TRN_IteratorNext(a))};
a.PageGetNumAnnots=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetNumAnnots(a,b));return Module.getValue(b,"i32")};a.PageGetAnnot=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetAnnot(a,c,b));return Module.getValue(b,"i8*")};a.PageAnnotRemove=function(a,c){REX(Module._TRN_PageAnnotRemoveByIndex(a,c))};a.AnnotGetType=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_AnnotGetType(a,b));return Module.getValue(b,
"i32")};a.AnnotHasAppearance=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_AnnotGetAppearance(a,0,0,b));return 0!==Module.getValue(b,"i8*")};a.AnnotRefreshAppearance=function(a){REX(Module._TRN_AnnotRefreshAppearance(a))};a.ObjErase=function(a,c){c=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjEraseFromKey(a,c))};a.GetJSDoubleArrFromCore=function(a,c){for(var b=Array(c),d=0;d<c;++d)b[d]=Module.getValue(a,"double"),a+=8;return b};
a.GetJSIntArrayFromCore=function(a,c){for(var b=Array(c),d=0;d<c;++d)b[d]=Module.getValue(a,"i32"),a+=4;return b};a.BookmarkIsValid=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkIsValid(a,b));return 0!==Module.getValue(b,"i8")};a.BookmarkGetNext=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkGetNext(a,b));return Module.getValue(b,"i8*")};a.BookmarkGetFirstChild=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);
REX(Module._TRN_BookmarkGetFirstChild(a,b));return Module.getValue(b,"i8*")};a.BookmarkHasChildren=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkHasChildren(a,b));return 0!==Module.getValue(b,"i8")};a.BookmarkGetAction=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkGetAction(a,b));return Module.getValue(b,"i8*")};a.BookmarkGetTitle=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_BookmarkGetTitle(a,
b));a=Module.getValue(b,"i8*");return Module.GetJSStringFromUString(a)};a.ActionIsValid=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ActionIsValid(a,b));return 0!==Module.getValue(b,"i8")};a.ActionGetType=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ActionGetType(a,b));return Module.getValue(b,"i32")};a.ActionGetDest=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ActionGetDest(a,b));return Module.getValue(b,
"i8*")};a.DestinationIsValid=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DestinationIsValid(a,b));return 0!==Module.getValue(b,"i8")};a.DestinationGetPage=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DestinationGetPage(a,b));return Module.getValue(b,"i8*")};a.PageIsValid=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageIsValid(a,b));return 0!==Module.getValue(b,"i8")};a.PageGetIndex=function(a){var b=
Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageGetIndex(a,b));return Module.getValue(b,"i32")};a.ObjGetAsPDFText=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetAsPDFText(a,b));a=Module.getValue(b,"i8*");return Module.GetJSStringFromUString(a)};a.ObjFindObj=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);c=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjFindObj(a,c,b));return Module.getValue(b,
"i8*")};a.PDFDocGetFirstBookmark=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetFirstBookmark(a,b));return Module.getValue(b,"i8*")};a.DestinationGetExplicitDestObj=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DestinationGetExplicitDestObj(a,b));return Module.getValue(b,"i8*")};a.DestinationGetFitType=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_DestinationGetFitType(a,b));return Module.getValue(b,
"i32")};a.ObjIsNumber=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjIsNumber(a,b));return 0!==Module.getValue(b,"i8")};a.ObjGetNumber=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjGetNumber(a,b));return Module.getValue(b,"double")};a.PDFDocGetRoot=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetRoot(a,b));return Module.getValue(b,"i8*")};a.ObjPutName=function(a,c,d){c=Module.allocate(Module.intArrayFromString(c),
"i8",Module.ALLOC_STACK);d=Module.allocate(Module.intArrayFromString(d),"i8",Module.ALLOC_STACK);var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjPutName(a,c,d,b));return Module.getValue(b,"i8*")};a.ObjPutDict=function(a,c){c=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjPutDict(a,c,b));return Module.getValue(b,"i8*")};a.ObjPutString=function(a,c,d){c=Module.allocate(Module.intArrayFromString(c),
"i8",Module.ALLOC_STACK);d=Module.allocate(Module.intArrayFromString(d),"i8",Module.ALLOC_STACK);var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjPutString(a,c,d,b));return Module.getValue(b,"i8*")};a.ObjPut=function(a,c,d){c=Module.allocate(Module.intArrayFromString(c),"i8",Module.ALLOC_STACK);var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ObjPut(a,c,d,b));return Module.getValue(b,"i8*")};a.ObjGetAt=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);
REX(Module._TRN_ObjGetAt(a,c,b));return Module.getValue(b,"i8*")};a.Matrix2DInverse=function(a){var b=Module.allocate(48,"i8",Module.ALLOC_STACK);REX(Module._TRN_Matrix2DInverse(a,b));return b};a.PDFDocInitSecurityHandler=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocInitSecurityHandler(a,0,b));return 0!==Module.getValue(b,"i8")};a.PDFDocInitStdSecurityHandler=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);c=Module.intArrayFromString(c);var d=Module.allocate(c,
"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocInitStdSecurityHandler(a,d,c.length-1,b));return 0!==Module.getValue(b,"i8")};a.PDFDocInsertPages=function(a,c,d,e,g){REX(Module._TRN_PDFDocInsertPageSet(a,c,d,e,g?1:0,0))};a.PDFDocMovePages=function(a,c,d){REX(Module._TRN_PDFDocMovePageSet(a,c,a,d,0,0))};a.PDFDocGetPageIterator=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetPageIterator(a,c,b));return Module.getValue(b,"i8*")};a.PDFDocPageRemove=function(a,c){REX(Module._TRN_PDFDocPageRemove(a,
c))};a.PDFDocPageCreate=function(a,c,d){var b=Module.allocate(40,"i8",Module.ALLOC_STACK);Module.setValue(b,0,"double");Module.setValue(b+8,0,"double");Module.setValue(b+16,c,"double");Module.setValue(b+24,d,"double");Module.setValue(b+32,0,"double");c=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocPageCreate(a,b,c));return Module.getValue(c,"i8*")};a.PDFDocPageInsert=function(a,c,d){REX(Module._TRN_PDFDocPageInsert(a,c,d))};a.PageSetCreate=function(){var a=Module.allocate(4,"i8",
Module.ALLOC_STACK);REX(Module._TRN_PageSetCreate(a));return Module.getValue(a,"i8*")};a.PageSetCreateRange=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PageSetCreateRange(b,a,c));return Module.getValue(b,"i8*")};a.PageSetAddPage=function(a,c){REX(Module._TRN_PageSetAddPage(a,c))};a.ElementBuilderCreate=function(){var a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ElementBuilderCreate(a));return Module.getValue(a,"i8*")};a.ElementBuilderDestroy=function(a){REX(Module._TRN_ElementBuilderDestroy(a))};
a.ElementBuilderCreateImage=function(a,c,d,e,g,h){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ElementBuilderCreateImageScaled(a,c,d,e,g,h,b));return Module.getValue(b,"i8*")};a.ElementWriterCreate=function(){var a=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ElementWriterCreate(a));return Module.getValue(a,"i8*")};a.ElementWriterDestroy=function(a){REX(Module._TRN_ElementWriterDestroy(a))};a.ElementWriterBegin=function(a,c){REX(Module._TRN_ElementWriterBeginOnPage(a,
c,1))};a.ElementWriterWritePlacedElement=function(a,c){REX(Module._TRN_ElementWriterWritePlacedElement(a,c))};a.ElementWriterEnd=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ElementWriterEnd(a,b))};a.ImageGetImageWidth=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ImageGetImageWidth(a,b));return Module.getValue(b,"i32")};a.ImageGetImageHeight=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ImageGetImageHeight(a,
b));return Module.getValue(b,"i32")};a.ImageCreateFromMemory2=function(a,c,d){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ImageCreateFromMemory2(a,c,d,0,b));return Module.getValue(b,"i8*")};a.ImageCreateFromFile=function(a,c){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_ImageCreateFromFile(a,c,0,b));return Module.getValue(b,"i8*")};a.PDFDocPagePushBack=function(a,c){REX(Module._TRN_PDFDocPagePushBack(a,c))};a.PDFDocHasOC=function(a){var b=Module.allocate(4,
"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocHasOC(a,b));return 0!==Module.getValue(b,"i8")};a.PDFDocGetOCGConfig=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_PDFDocGetOCGConfig(a,b));return Module.getValue(b,"i8*")};a.OCGContextCreate=function(a){var b=Module.allocate(4,"i8",Module.ALLOC_STACK);REX(Module._TRN_OCGContextCreateFromConfig(a,b));return Module.getValue(b,"i8*")};a.UStringDestroy=function(a){REX(Module._TRN_UStringDestroy(a))};a.FDFDocDestroy=function(a){REX(Module._TRN_FDFDocDestroy(a))}})(e.Module)}).call(this,
n(4).setImmediate)},function(c,m,n){function p(c){"@babel/helpers - typeof";p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"===typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c};return p(c)}(function(c){c.SetupPDFNetFunctions=function(l){Module._IB_=[];for(var e=function B(a){if("object"===p(a)&&null!==a)if("undefined"!==typeof a.byteLength){var c=Module._IB_.length;Module._IB_[c]=new Uint8Array(a);
a={handle:c,isArrayBufferRef:!0}}else Object.keys(a).forEach(function(c){a.hasOwnProperty(c)&&(a[c]=B(a[c]))});return a},a=function x(a){"object"===p(a)&&null!==a&&(a.buffer?a=a.buffer.slice(a.byteOffset,a.byteOffset+a.length):a.isArrayBufferRef?a=Module._IB_[a.handle].buffer:Object.keys(a).forEach(function(c){a.hasOwnProperty(c)&&(a[c]=x(a[c]))}));return a},d=Module._TRN_EMSCreateSharedWorkerInstance(),k,h=Module._TRN_EMSWorkerInstanceGetFunctionIterator(d),n=function(c,h){return new Promise(function(k,
l){c=e(c);var b=c.docId;b=b?Module.GetDoc(b):0;(b=Module.EMSCallSharedFunction(d,h,b))?l({type:"InvalidPDF",message:Module.GetErrToString(b)}):(l=Module.EMSGetLastResponse(d),l=a(l),k(l))})};k=Module._TRN_EMSFunctionIteratorGetNextCommandName(h);)k=Module.GetJSStringFromCString(k),c.queue.onAsync(k,n);Module._TRN_EMSFunctionIteratorDestroy(h);if(Module._TRN_EMSCreatePDFNetWorkerInstance){var r={};h=function(a,c){l.on(a,c);r[a]=!0};Module.docPtrStringToIdMap={};var m=function(a){if(a in Module.docPtrStringToIdMap)return Module.docPtrStringToIdMap[a];
throw Error("Couldn't find document ".concat(a));};c.queue.onAsync("PDFDoc.RequirePage",function(a){return Module.RequirePage(m(a.docId),a.pageNum)});h("pdfDocCreateFromBuffer",function(a){a=Module.CreateDoc({type:"array",value:a.buf});var c=Module.GetDoc(a).toString(16);Module.docPtrStringToIdMap[c]=a;return c});h("PDFDoc.destroy",function(a){a=m(a.auto_dealloc_obj);Module.DeleteDoc(a)});h("PDFDoc.saveMemoryBuffer",function(a){var c=m(a.doc);return Module.SaveHelper(Module.GetDoc(c),c,a.flags).slice(0)});
h("pdfDocCreate",function(){var a=Module.CreateDoc({type:"new"}),c=Module.GetDoc(a).toString(16);Module.docPtrStringToIdMap[c]=a;return c});h("GetPDFDoc",function(a){a=a.docId;var c=Module.GetDoc(a).toString(16);Module.docPtrStringToIdMap[c]=a;return c});h("ExtractPDFNetLayersContext",function(a){var c=a.layers;a=Module.GetDoc(a.docId);var d=0;c?d=Module.EMSCreateUpdatedLayersContext(a,c):Module.PDFDocHasOC(a)&&(c=Module.PDFDocGetOCGConfig(a),d=Module.OCGContextCreate(c));return d.toString(16)});
var t=Module._TRN_EMSCreatePDFNetWorkerInstance();h=Module._TRN_EMSWorkerInstanceGetFunctionIterator(t);for(n=function(c){return new Promise(function(d,h){c=e(c);var g=Module.EMSCallPDFNetFunction(t,c);g?h(Module.GetErrToString(g)):(h=Module.EMSGetLastResponse(t),h=a(h),d(h))})};k=Module._TRN_EMSFunctionIteratorGetNextCommandName(h);)if(k=Module.GetJSStringFromCString(k),!r[k])l.onAsync(k,n);Module._TRN_EMSFunctionIteratorDestroy(h)}}})(self)},function(c,m,n){var p=n(0);c=n(3);var l=n.n(c),t=n(9),
e=n(10),a=n(6);(function(c){function d(a){var c={};decodeURIComponent(a.slice(1)).split("&").forEach(function(a){a=a.split("=",2);c[a[0]]=a[1]});return c}var h=null;c.basePath="../";var n=function(){var e=c.pdfWorkerPath||"";c.workerBasePath&&(c.basePath=c.workerBasePath);var h=d(c.location.search),k="true"===h.isfull,l=k?"full/":"lean/";h.pdfWorkerPath&&(e=h.pdfWorkerPath,c.basePath="../",Object(a.b)()||(e=""));c.basePath=h.externalPath?h.externalPath:c.basePath+"external/";Object(a.a)("".concat(e+
l,"PDFNetC"),{"Wasm.wasm":5E6,"Wasm.js.mem":1E5,".js.mem":6E6,".mem":k?2E6:3E5})};self.shouldResize||n();c.EmscriptenPDFManager=function(){};c.EmscriptenPDFManager.prototype={OnInitialized:function(a){Module.loaded?a():(Module.initCb=function(){a()},Object(p.b)("worker","PDFNet is not initialized yet!"))},NewDoc:function(a,c){return new Promise(function(d,e){try{d(Module.loadDoc(a,c))}catch(g){e(g)}})},Initialize:function(a,d,e,h){a&&(Module.TOTAL_MEMORY=a);Module.memoryInitializerPrefixURL=d;Module.asmjsPrefix=
e;c.basePath=h;n()},shouldRunRender:function(a){return Module.ShouldRunRender(a.docId,a.pageIndex+1)}};(function(a){function d(a){var b=a.data,d=a.action;var e="GetCanvas"===d||"GetCanvasPartial"===d?n.shouldRunRender(b):!0;if(e){h=a;var f=a.asyncCallCapability;Object(p.b)("Memory","Worker running command: ".concat(d));m.actionMap[d](b,a).then(function(a){f.resolve(a)},function(a){f.reject(a)})}else c.deferredQueue.queue(a),g()}function e(a){a.asyncCallCapability=createPromiseCapability();h?m.queue(a):
d(a);return a.asyncCallCapability.promise}function k(d){self.shouldResize&&n.Initialize(d.options.workerHeapSize,d.options.pdfResourcePath,d.options.pdfAsmPath,d.options.parentUrl);Module.chunkMax=d.options.chunkMax;if(d.array instanceof Uint8Array){var e=255===d.array[0];a.postMessageTransfers=e;"response"in new XMLHttpRequest?n.OnInitialized(function(){c.SetupPDFNetFunctions(a);b();a.send("test",{supportTypedArray:!0,supportTransfers:e})}):a.send("test",!1)}else a.send("test",!1)}function g(){t.a.setImmediate(function(){if(!h||
"BeginOperation"!==h.action)if(m.length){if(!h||99999!==h.priority){var a=m.dequeue();d(a)}}else h=null})}var n=new c.EmscriptenPDFManager,m,r=!1,y=!1;Module.workerMessageHandler=a;var b=function(){r?y||(a.send("workerLoaded",{}),y=!0):r=!0};n.OnInitialized(b);(function(){c.queue=m=new l.a({strategy:l.a.ArrayStrategy,comparator:function(a,b){return a.priority===b.priority?a.callbackId-b.callbackId:b.priority-a.priority}});c.deferredQueue=new l.a({strategy:l.a.ArrayStrategy,comparator:function(a,b){return a.priority===
b.priority?a.callbackId-b.callbackId:b.priority-a.priority}});m.actionMap={};m.onAsync=function(b,c){a.onAsync(b,e);m.actionMap[b]=c}})();a.on("test",k);a.on("InitWorker",k);var f=function(a){h&&a(h)&&(Module.cancelCurrent(),h=null);m.removeAllMatching(a,function(a){a.asyncCallCapability.reject({type:"Cancelled",message:"Operation was cancelled due to document deletion."})})},q=function(a){f(function(b){return b.data&&b.data.docId===a})};a.on("UpdatePassword",function(a){return Module.UpdatePassword(a.docId,
a.password)});a.on("LoadRes",function(a){Module.loadResources(a.array,a.l);return{}});a.on("DownloaderHint",function(a){Module.DownloaderHint(a.docId,a.hint)});a.on("IsLinearized",function(a){return Module.IsLinearizationValid(a.docId)});a.onNextAsync(g);m.onAsync("NewDoc",function(a){return n.NewDoc(a)});m.onAsync("GetCanvas",function(a){Object(p.b)("workerdetails","Run GetCanvas PageIdx: ".concat(a.pageIndex," Width: ").concat(a.width));Object(p.b)("Memory","loadCanvas with potential memory usage ".concat(a.width*
a.height*8));return Module.loadCanvas(a.docId,a.pageIndex,a.width,a.height,a.rotation,null,a.layers,a.overprintMode)});m.onAsync("GetCanvasPartial",function(a){Object(p.b)("Memory","GetCanvasPartial with potential memory usage ".concat(a.width*a.height*8));return Module.loadCanvas(a.docId,a.pageIndex,a.width,a.height,a.rotation,a.bbox,a.layers,a.overprintMode)});m.onAsync("LoadText",function(a){return Module.GetTextData(a.docId,a.pageIndex)});m.onAsync("SaveDoc",function(a){return Module.SaveDoc(a.docId,
a.xfdfString,a.finishedWithDocument,a.printDocument,a.flags,a.watermarks)});m.onAsync("SaveDocFromFixedElements",function(a){return Module.SaveDocFromFixedElements(a.bytes,a.xfdfString,a.flags,a.watermarks)});m.onAsync("MergeXFDF",function(a){return Module.MergeXFDF(a.docId,a.xfdf)});m.onAsync("InsertPages",function(a){return Module.InsertPages(a.docId,a.doc,a.pageArray,a.destPos,a.insertBookmarks)});m.onAsync("MovePages",function(a){return Module.MovePages(a.docId,a.pageArray,a.destPos)});m.onAsync("RemovePages",
function(a){return Module.RemovePages(a.docId,a.pageArray)});m.onAsync("RotatePages",function(a){return Module.RotatePages(a.docId,a.pageArray,a.rotation)});m.onAsync("ExtractPages",function(a){return Module.ExtractPages(a.docId,a.pageArray,a.xfdfString,a.watermarks)});m.onAsync("CropPages",function(a){return Module.CropPages(a.docId,a.pageArray,a.topMargin,a.botMargin,a.leftMargin,a.rightMargin)});m.onAsync("InsertBlankPages",function(a){return Module.InsertBlankPages(a.docId,a.pageArray,a.width,
a.height)});m.onAsync("BeginOperation",function(){return Promise.resolve()});m.onAsync("RequirePage",function(a,b){return Module.RequirePage(a.docId,a.pageNum)});a.on("FinishOperation",function(){if("BeginOperation"===h.action)a.onNextAsync(g),Module.cancelCurrent(),h=null;else throw{message:"Operation has not started."};});a.on("DeleteDocument",function(a){a=a.docId;q(a);Module.DeleteDoc(a)});a.on("LoadBookmarks",function(a){return Module.LoadBookmarks(a.docId)});a.on("GetCanvasProgressive",function(a){if(h&&
h.callbackId===a.callbackId){Object(p.b)("worker","Progressive request in progress");var b=Module.GetCurrentCanvasData(!0)}else{if(m.find({priority:0,callbackId:a.callbackId}))throw Object(p.b)("worker","Progressive request Queued"),{type:"Queued",message:"Rendering has not started yet."};if(c.deferredQueue.find({priority:0,callbackId:a.callbackId}))throw Object(p.b)("worker","Progressive request Deferred"),{type:"Queued",message:"Rendering has not started yet."};}if(!b)throw Object(p.b)("worker",
"Progressive request invalid (render already complete)"),{type:"Unavailable",message:"Rendering is complete or was cancelled."};return b});a.on("actionCancel",function(a){h&&h.callbackId===a.callbackId?(Object(p.b)("workerdetails","Cancelled Current Operation"),Module.cancelCurrent()&&g()):(Object(p.b)("workerdetails","Cancelled queued operation"),m.remove({priority:0,callbackId:a.callbackId}),c.deferredQueue.remove({priority:0,callbackId:a.callbackId}))})})(new e.a("worker_processor",self))})("undefined"===
typeof window?self:window)}]);}).call(this || window)
